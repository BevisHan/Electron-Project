!function(){"use strict";angular.module("LINDGE-UI-Core",["LINDGE.UI-Core.Control.BindHtml","LINDGE.UI-Core.Graphics.Canvas","LINDGE.UI-Core.Graphics.Model","LINDGE.UI-Core.Control.Echarts","LINDGE.UI-Core.Control.Dialog","LINDGE.UI-Core.Control.FileDialog","LINDGE.UI-Core.Control.ImageFileDialog","LINDGE.UI-Core.Control.Icon","LINDGE.UI-Core.Control.Modal","LINDGE.UI-Core.Control.NgTable","LINDGE.UI-Core.Control.NgTableSupport","LINDGE.UI-Core.Control.NgTableControl","LINDGE.UI-Core.Control.Outscope","LINDGE.UI-Core.Control.Popover","LINDGE.UI-Core.scrollStick","LINDGE.UI-Core.Control.RightClick","LINDGE.UI-Core.Control.ProgressLinear","LINDGE.UI-Core.Control.Slider","LINDGE.UI-Core.Control.ScrollView","LINDGE.UI-Core.Control.TreeView","LINDGE.UI-Core.Control.Waiting","LINDGE.UI-Core.Filter.DOMTextFilter","LINDGE.UI-Core.Filter.Gender","LINDGE.UI-Core.Filter.Numbers","LINDGE.UI-Core.Filter.PlatformImage","LINDGE.UI-Core.Filter.TimeDisplayFilter","LINDGE.UI-Core.Filter.UnitsConversion","LINDGE.UI-Core.Service.DOMService","LINDGE.UI-Core.Service.Drag","LINDGE.UI-Core.Service.DragDrop","LINDGE.UI-Core.Service.GlobalClock","LINDGE.UI-Core.Service.HttpInterceptor","LINDGE.UI-Core.Initiate","LINDGE.UI-Core.Service.NgUtil","LINDGE.UI-Core.Constants.Scenario","LINDGE.UI-Core.Scroll","LINDGE.UI-Core.Service.SelectionControl","LINDGE.UI-Core.Service.SystemConfig","LINDGE.UI-Core.Timer","LINDGE.UI-Core.Service.UserInfo"]),angular.module("LINDGE.UI-Core.Control.BindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}).directive("bindStyledHtml",["$parse",function(e){var t=["SPAN","B","I","U","UNDERLINE","SUP","DEL","BR","CODE"];return{priority:1,restrict:"A",replace:!1,transclude:!1,link:function(n,i,r){var o=e(r.bindStyledHtml),a=document.createElement("div");n.$watch(o,function(e){if(e){a.innerHTML=e;for(var n=document.createDocumentFragment(),r=a.childNodes,o=0;o<r.length;){var l=r[o];l.nodeType==HTMLElement.TEXT_NODE?n.appendChild(l):l.nodeType==HTMLElement.ELEMENT_NODE&&t.indexOf(l.tagName)>=0?n.appendChild(l):o++}i.empty(),i.append(n)}else i.empty()})}}}]),angular.module("LINDGE.UI-Core.Graphics.Canvas",[]).factory("luiCanvas2d",[function(){var e=window.CanvasRenderingContext2D,t=!!e,n="2d";function i(){return document.createElement("canvas")}function r(r){if(!t)throw new Error("Canvas is not supported");if(null==r)this.canvas=i(),this.ctx=this.canvas.getContext(n);else if(function(e){return e instanceof window.Element&&"canvas"==e.tagName.toLowerCase()&&"function"==typeof e.getContext}(r))this.ctx=r.getContext(n),this.canvas=r;else{if(!(r instanceof e))throw new TypeError("Expect canvas node or canvas 2d rendering for initialization");this.ctx=r,this.canvas=r.canvas}}function o(){}return r.prototype.addClass=function(){if(arguments.length>0){var e=Array.prototype.join.call(arguments," ");this.canvas.className+=e}},r.prototype.getSize=function(){var e=this.canvas;return[e.width,e.height]},r.prototype.getBoundingRect=function(){return this.canvas.getBoundingClientRect()},r.prototype.resize=function(e,t,n,i){var r=this.canvas;r.width=e+(n||0),r.height=t+(i||0)},r.prototype.resizeToParent=function(e,t){var n=this.canvas.parentElement;if(n){var i=n.offsetWidth,r=n.offsetHeight;this.resize(i,r,e,t)}},r.prototype.newDrawingState=function(){this.ctx.save()},r.prototype.discardDrawingState=function(){this.ctx.restore()},r.prototype.clearRegion=function(e,t,n,i){this.ctx.clearRect(e,t,n,i)},r.prototype.clear=function(){var e=this.getSize();this.clearRegion(0,0,e[0],e[1])},r.prototype.fillRegion=function(e,t,n,i,r){r&&(this.newDrawingState(),this.ctx.fillStyle=String(r)),this.ctx.fillRect(0,0,n,i),r&&this.discardDrawingState()},r.prototype.fillBg=function(e){var t=this.getSize();this.fillRegion(0,0,t[0],t[1],e)},r.prototype.drawLine=function(e,t,n,i,r){this.ctx.beginPath(),this.ctx.moveTo(e,t),this.ctx.lineTo(n,i),r&&(this.newDrawingState(),this.ctx.strokeStyle=String(r)),this.ctx.stroke(),r&&this.discardDrawingState()},r.prototype.drawText=function(e,t,n,i,r,o,a){if("string"!=typeof e)throw new TypeError("invalid text to draw");if(0!==e.length){void 0===i&&(i=!0);var l=i&&!!r||o&&!!a;l&&(this.newDrawingState(),r&&(this.ctx.fillStyle=String(r)),a&&(this.ctx.strokeStyle=String(a))),i&&this.ctx.fillText(e,t,n),o&&this.ctx.strokeText(e,t,n),l&&this.discardDrawingState()}},r.prototype.usePainter=function(e){if(!e)throw new Error("painter is null");if(!(e instanceof o))throw new TypeError("invalid painter");var t=e.requireNewState();t&&this.newDrawingState();try{e.prepare(this);try{var n=this.getSize();e.draw(this,n[0],n[1])}finally{e.clean(this)}}finally{t&&this.discardDrawingState()}},r.supported=function(){return t},r.createCanvasElement=function(e,t){var n=i();return e>0&&(n.width=e),t>0&&(n.height=t),n},o.prototype.prepare=function(e){},o.prototype.clean=function(e){},o.prototype.draw=function(e,t,n){throw new Error("CanvasPainter.draw is not implemented")},o.prototype.requireNewState=function(){return!1},{Canvas:r,CanvasPainter:o,STYLES:{LINE_CAP:{Butt:"butt",Round:"round",Square:"square"},LINE_JOIN:{Bevel:"bevel",Round:"round",Miter:"miter"},TEXT_ALIGN:{Left:"left",Right:"right",Center:"center",Start:"start",End:"end"},TEXT_BASELINE:{Top:"top",Hanging:"hanging",Middle:"middle",Alphabetic:"alphabetic",Ideographic:"ideographic",Bottom:"bottom"},TEXT_DIRECTION:{LeftToRight:"ltr",RightToLeft:"rtl",InheritCss:"inherit"}}}}]),angular.module("LINDGE.UI-Core.Graphics.Model",[]).factory("luiGraphics",[function(){function e(e,t,n,i){this.r=e,this.g=t,this.b=n,this.a=void 0===i?1:i}return e.prototype.toString=function(){return this.a<1?["rgba(",this.r,",",this.g,",",this.b,",",this.a,")"].join(""):["rgb(",this.r,",",this.g,",",this.b,")"].join("")},{Color:e}}]),angular.module("LINDGE.UI-Core.Control.Echarts",["LINDGE-Service"]).config(["$moduleManagerProvider",function(e){e.defineModule({id:"echarts",components:[{id:"echarts.js",path:"/CDN/Chart/echarts/4.0/echarts.min.js",type:e.COMPONENT_TYPE.SCRIPT,scopeChecker:function(){return!!window.echarts}}]})}]).factory("$chartUtilities",[function(){return{isAbsoluteStyle:function(e){return!!e&&/^[\-+]?\d+(\.\d+)?px$/.test(e)}}}]).service("$echartsManager",["$rootScope",function(e){var t=[];function n(e,n){null===e?t.forEach(function(e){n(e.control)}):t.forEach(function(t){t.key&&t.key==e&&n(t.control)})}this.registerChart=function(e,n){if(!n)throw new Error("chart control is null");angular.isString(e)&&e.length>0||(e=null),t.push({key:e,control:n})},this.unregisterChart=function(e){for(var n=0;n<t.length;n++)if(t[n].control===e)return void t.splice(n,1)},this.init=function(){e.$on("echarts-force-redrawing",function(e,t){n(t,function(e){e.redraw()})}),e.$on("echarts-force-resize",function(e,t){n(t,function(e){e.resize()})})}}]).directive("luiEcharts",["$window","$rootScope","$chartUtilities","$echartsManager","$moduleManager","ElementStateMonitor",function(e,t,n,i,r,o){var a=null,l=r.loadModule("echarts");return l.then(function(){a=window.echarts,i.init()}),{priority:1,scope:{chartId:"=",options:"=",cornerPin:"=",noInterp:"=",domSize:"=",width:"@",height:"@",theme:"@",smartResize:"=",eventHandles:"="},controller:["$scope","$element","$attrs",function(e,t,n){var i="lindge-default",r=t.children().eq(0);if(e.cornerPin)r.css({position:"absolute",left:"0px",right:"0px",top:"0px",bottom:"0px"});else{var o=e.width||"100%",l=e.height||"100%";r.css({width:o,height:l})}t.children().eq(1).css("display","none"),this.chartInstance=null,this.createChart=function(){return this.chartInstance?this.chartInstance:(this.chartInstance=(t=r[0],(n=e.theme)?a.init(t,n):a.init(t,i)),this.chartInstance);var t,n}}],restrict:"EA",template:'<div class="echarts"></div><div ng-transclude></div>',replace:!1,transclude:!0,link:function(t,r,a,s){var c=null,u=null,p=null;function f(){t.noInterp&&c.clear(),t.domSize&&c.resize(),c.setOption(t.options,{notMerge:!0})}t.isLoading=!0;var d={redraw:function(){t.$evalAsync(f)},resize:function(){t.$evalAsync(function(){c.resize()})}};function h(e){function t(e,t){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i],o=e[r];Array.isArray(o)||(o=[o]);for(var a=0;a<o.length;a++){t(r,o[a])}}}if(u&&(t(u,function(e,t){c.off(e,t)}),u=null),e){var n={};t(e,function(e,t){if(t)if("function"==typeof t)c.on(e,t);else if("object"==typeof t){var i=t.handler;"function"==typeof i&&(c.on(e,t.query?t.query:"",i,t.context?t.context:null),n.hasOwnProperty(e)?n[e].push(i):n[e]=[i])}}),u=n}}function g(){i.registerChart(t.chartId,d),t.$watch("options",function(e){e&&t.$evalAsync(f)},!0),t.$watch("eventHandles",h),t.smartResize?(p=function(){var e=r.parent()[0],t=new o.SizeChecker(e,!0);t.addCallback(function(e){c.resize()});var n=new o.ElementStateMonitor;return n.addChecker(t),n}()).beginWatch():!t.cornerPin&&n.isAbsoluteStyle(t.width)&&n.isAbsoluteStyle(t.height)||angular.element(e).on("resize",function(){c.resize()}),c.resize(),t.$on("$destroy",function(){i.unregisterChart(d),p&&p.stopWatch()})}l.then(function(){c=s.createChart(),t.isLoading=!1,t.$evalAsync(g)})}}}]),angular.module("LINDGE.UI-Core.Control.Dialog",["LINDGE.UI-Core.Control.Modal"]).controller("$luiDialogCtrl",["mdPanelRef","setting",function(e,t){this.setting=t,this.cancel=function(){e.$cancel()},this.confirm=function(){e.$resolve()}}]).controller("$luiButtonDialogCtrl",["mdPanelRef","setting",function(e,t){this.setting=t,Array.isArray(t.buttons)?this.buttons=t.buttons.map((e,t)=>({label:e.label,class:e.class,index:t})):this.buttons=[],this.onButtonClick=function(t){e.$resolve(t)}}]).controller("$luiInputDialogCtrl",["mdPanelRef","setting","$scope",function(e,t,n){this.setting=t,this.validation=t.validation,this.input={value:t.default},this.cancel=function(){e.$cancel()},this.confirmKey=function(e){this.setting.keyConfirm&&13==e.keyCode&&(e.preventDefault(),this.confirm())},this.confirm=function(){n.inputDialogForm&&n.inputDialogForm.$invalid?n.inputDialogForm.$getControls().forEach(function(e){e.$setTouched()}):e.$resolve(this.input.value)}}]).provider("$luiDialog",[function(){const e={info:"info-circle"};var t="",n="",i="",r={template:"",buttonConverter:null},o="确认",a="取消",l=20;function s(e){if("string"!=typeof e||!e)throw new Error("invalid template")}this.registerMessageType=function(t,n){if("string"!=typeof t||!t)throw new Error("invalid type name");n||(n=""),e[t]=n},this.configConfirmDialog=function(e){s(e),t=e},this.configAlertDialog=function(e){s(e),n=e},this.configButtonDialog=function(e,t){s(e),r.template=e,t&&(r.buttonConverter=t)},this.configInputDialog=function(e){s(e),i=e},this.setMaxQueueSize=function(e){if(!(e>=1))throw new Error("queue size must be greater than 1");l=Math.floor(e)},this.$get=["$luiModal",function(s){var c=[];function u(t,n,i){var r={type:i.msgType?i.msgType.trim():"info",typeIcon:"",title:t||"",textContent:"",styledContent:"",confirmLabel:i.confirmLabel||o,cancelLabel:i.cancelLabel||a};return"styled"==i.contentType?r.styledContent=n:r.textContent=n,r.type&&e[r.type]&&(r.typeIcon=`lic lic-${e[r.type]}`),r}function p(e,t,n,i){if(c.length>=l)throw new Error("too much waiting dialogs");var r={template:e,controller:i,controllerAs:"ctrl",locals:{setting:n},cssClass:"lui-dialog",disableParentScroll:!0,clickOutsideToClose:!!t.clickOutsideToClose,layoutFeatures:s.$layout.SCREENCENTER,containerFixed:!1},o=s.create(r),a=o.panelRef;return c.push(a),a.$onClose(function(){c.shift(),c.length>0&&c[0].open()}),1==c.length&&a.open(),o.result}return{alert:function(e,t,i){var r=u(e,t,i=i||{});return p(n,i,r,"$luiDialogCtrl")},confirm:function(e,n,i){var r=u(e,n,i=i||{});return p(t,i,r,"$luiDialogCtrl")},showButtonDialog:function(e,t,n){if(!r.template)throw new Error("button dialog is not support in current environment");if(!n||!Array.isArray(n.buttons))throw new Error("invalid button dialog config");var i=u(e,t,n);return i.buttons=n.buttons.map(function(e){var t;return t="string"==typeof e?{label:e,class:"",role:null}:{label:e.label,class:e.class||"",role:e.role||null},r.buttonConverter&&(t=r.buttonConverter(t)),t}),p(r.template,n,i,"$luiButtonDialogCtrl")},showInputDialog:function(e,t,n){var r=u(e,t,n=n||{});return r.inputLabel=n.inputLabel||"",r.placeholder=n.placeholder||"",r.default=n.default||"",r.keyConfirm=!!n.keyConfirm,r.validation={required:n.required||null},p(i,n,r,"$luiInputDialogCtrl")}}}]}]),angular.module("LINDGE.UI-Core.Control.FileDialog",[]).service("$luiFileDialog",[function(){function e(e,t){var n=document.createElement("input");return n.type="file",e&&(n.id=e),n.style.display="none",t?t.appendChild(n):document.body.appendChild(n),n}function t(e,t){i(e,t),e.style.opacity=0,e.style.display="block",e.focus(),e.click(),e.style.display="none"}function n(e){e.value=""}function i(e,t){t&&(e.multiple=!!t.multiple,e.accept=t.accept||"")}var r=e("g-file-dialog"),o=null;function a(e){o=e}return r.addEventListener("change",function(e){if(o)try{o(r.files,r.files.length)}finally{o=null,n(r),(t=r).multiple=!1,t.accept=""}var t}),{bindInputEvent:function(o,l,s,c,u){if(o instanceof HTMLElement){if(angular.isFunction(s))return c?function(r,o,a,l){var s=e(null,null);return s.addEventListener("change",function(e){try{a(s.files,s.files.length)}finally{n(s)}}),r.addEventListener(o,function(e){e.preventDefault(),t(s)},!1),i(s,l),s}(o,l,s,u):(function(e,n,i,o){e.addEventListener(n,function(e){e.preventDefault(),a(i),t(r,o)},!1)}(o,l,s,u),null);throw new TypeError("callback must be function")}throw new TypeError("Node must be HTMLElement")},triggerGlobalInput:function(e,n){a(e),t(r,n)}}}]).directive("fileDialog",["$luiFileDialog",function(e){return{priority:1,scope:!1,restrict:"A",replace:!1,link:function(t,n,i,r){var o,a,l=n[0],s=i.fileDialog,c=i.fileAccept,u=angular.isDefined(u),p=s.split(";");if(1==p.length)o="click",a=t.$eval(p[0].trim());else{if(2!=p.length)return;o=p[0].trim(),a=t.$eval(p[1].trim())}if(angular.isFunction(a)){var f=e.bindInputEvent(l,o,function(){a.apply(null,arguments),t.$apply()},!0,{multiple:u,accept:c});n.after(f)}}}}]),angular.module("LINDGE.UI-Core.Control.ImageFileDialog",["LINDGE.UI-Core.Control.FileDialog"]).constant("IMAGE_SELECTOR_EVENTS",{OVER_BIT_SIZE:"image_to_large",OVER_SIZE:"image_over_size",OVER_ASPECT_RATIO:"image_over_aspect_ratio",INSUFFICIENT_SIZE:"image_insufficient_size",INVALID_IMAGE_TYPE:"not_support_image_type",IMGAE_UPDATE:"image_select_success"}).service("$luiImageFileSelector",["$luiFileDialog","IMAGE_SELECTOR_EVENTS","$q",function(e,t,n){function i(){this.maxFileSize=-1,this.maxWidth=-1,this.maxHeight=-1,this.minWidth=-1,this.minHeight=-1,this.maxRatio=1/0}function r(e){e?(this.image=e,this.width=e.width,this.height=e.height):(this.image=null,this.width=0,this.height=0),this.size=0,this.type="",this.err=null}i.prototype.readOptions=function(e,t,n,i,r,o){var a=parseFloat(e);isNaN(a)||(this.maxFileSize=a);var l=parseInt(t);isNaN(l)||(this.maxWidth=l);var s=parseInt(n);isNaN(s)||(this.maxHeight=s);var c=parseInt(i);isNaN(c)||(this.minWidth=c);var u=parseInt(r);isNaN(u)||(this.minHeight=u);var p=parseInt(o);isNaN(p)||(this.maxRatio=p)},r.prototype.setFileInfo=function(e){this.size=e.size,this.type=e.type},this.bindTriggerElement=function(o,a,l,s){var c=new i;a&&c.readOptions(a.maxSize,a.maxWidth,a.maxHeight,a.minWidth,a.minHeight,a.ratio),l||(l=new FileReader),e.bindInputEvent(o,"click",function(e,i){if(i>0){var o,a=e[0];u=a.type,/^image\/.+/i.test(u)?c.maxFileSize>0&&a.size>c.maxFileSize?(o=new r).err=t.OVER_BIT_SIZE:o=null:(o=new r).err=t.INVALID_IMAGE_TYPE,o?(o.setFileInfo(a),s(o)):function(e,i,o){var a=n.defer();return e.onload=function(e){var n=e.target.result,l=new Image;l.onload=function(){var e=new r(l);e.setFileInfo(i),o.maxWidth>0&&l.width>o.maxWidth||o.maxHeight>0&&l.height>o.maxHeight?e.err=t.OVER_SIZE:l.width<o.minWidth||l.height<o.minHeight?e.err=t.INSUFFICIENT_SIZE:e.err=null,a.resolve(e)},l.src=n},e.readAsDataURL(i),a.promise}(l,a,c).then(function(e){s(e)})}var u},!0)}}]).directive("imageFileSelector",["$luiImageFileSelector","$rootScope",function(e,t){return{priority:1,scope:!1,restrict:"A",replace:!1,link:function(n,i,r,o){var a=n[r.handler];if(angular.isFunction(a)){var l={maxSize:r.maxSize},s=n[r.options];s&&angular.extend(l,s);var c=new FileReader;e.bindTriggerElement(i[0],l,c,function(e){a(e),t.$$phase||n.$apply()})}}}}]),angular.module("LINDGE.UI-Core.Control.Icon",[]).provider("$luiIcon",function(){var e={},t={},n={IMG:"image",SVG:"svg"},i={LOCAL:"local",REMOTE:"remote"};this.registerIcon=function(t,n){if(!t||!n)throw new Error("invalid icon");var i={name:t,type:"",src:"",content:"",url:"",cache:null};angular.extend(i,n),e[t]=i},this.$get=["$http","$q",function(r,o){return{ICON_TYPE:n,ICON_SRC:i,get:function(t){var n=e[t];return n||null},download:function(e){if(t.hasOwnProperty(e.name))return t[e.name];var n=r.get(e.url).finally(function(){delete t[e.name]});return t[e.name]=n,n},listIcon:function(){return Object.keys(e)}}}]}).directive("luiIcon",["$luiIcon","$q",function(e,t){var n=e.ICON_TYPE,i=e.ICON_SRC,r=/<\?xml.+?\?>/;return{priority:1,scope:!1,restrict:"E",replace:!1,transclude:!1,link:function(o,a,l){var s=l.icon;if(s){var c=e.get(s);if(c)switch(c.type){case n.SVG:!function(n,o){function a(e){var t=document.createElement("div");t.innerHTML=e.content;var n=t.children[0];return"SVG"==n.tagName.toUpperCase()&&(n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("focusable","false"),e.cache=n),e}function l(e){n.append(e.cache.cloneNode(!0))}o.cache?l(o):o.src==i.REMOTE?e.download(o).then(function(e){var n=e.data;if("string"!=typeof n)return t.reject("invalid download data");n.startsWith("<?xml")&&(n=n.replace(r,"")),o.content=n,a(o),l(o)}):(a(o),l(o))}(a,c)}}}}}]),angular.module("LINDGE.UI-Core.Control.Modal",[]).service("$luiModal",["$q","$mdPanel",function(e,t){var n={NONE:0,SCROLLABLE:1,SCREENCENTER:2,CONTAINERFIXED:4};function i(i,r){var o=t.newPanelPosition().absolute(),a=document.body,l=!1,s="";i.disableParentScroll&&(l=!0,i.disableParentScroll=!1,s=a.style.overflow,a.style.overflow="hidden"),r||(r=""),i.cssClass&&(r+=i.cssClass);var c={attachTo:angular.element(a),disableParentScroll:!1,controllerAs:"ctrl",hasBackdrop:!0,panelClass:r,position:o,trapFocus:!0,clickOutsideToClose:!0,escapeToClose:!0,focusOnOpen:!0,layoutFeatures:n.NONE,containerFixed:!1,zIndex:1050,onDomAdded:function(e){var t=e[1].panelContainer,r=c.layoutFeatures;if(r&n.SCROLLABLE?t.css("overflow","auto").addClass("narrow-scroll"):t.css("overflow","hidden"),r&n.SCREENCENTER){t.addClass("layout-column");var o=t[0].querySelector(".md-panel");o&&angular.element(o).css({margin:"auto",position:"static"})}r&n.CONTAINERFIXED&&(e[0].panelContainer.css("position","fixed"),t.css("position","fixed")),angular.isFunction(i.onDomAdded)&&i.onDomAdded(e)}};angular.extend(c,i),c.layoutFeatures=n.NONE|c.layoutFeatures;var u={close:[]};var p=!1,f=e.defer();c.onDomRemoved=function(){p||f.reject(null),l&&(document.body.style.overflow=s),function(e){var t=u[e];if(t&&t.length>0)for(var n=0;n<t.length;n++)t[n]()}("close")};var d=t.create(c);return function(e){e.$resolve=function(t){p=!0,e.close().then(function(){f.resolve(t)})},e.$cancel=function(t){p=!0,e.close().then(function(){f.reject(t)})},e.$onClose=function(e){"function"==typeof e&&u.close.push(e)}}(d),{panelRef:d,result:f.promise}}this.open=function(e,t){e||(e={});var n=i(e,t);return n.panelRef.open(),n},this.create=function(e,t){return e||(e={}),i(e,t)},this.$size={SMALL:"lui-modal modal-small",MEDIUM:"lui-modal",DEFAULT:"lui-modal"},this.$layout=n}]),function(e,t){(function(e){var t=e.module("LINDGE.UI-Core.Control.NgTable",[]);t.value("ngTableDefaults",{params:{},settings:{}}),t.factory("ngTableParams",["$q","$log","ngTableDefaults",function(t,n,i){var r=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};return function(o,a){var l=this,s=function(){u.debugMode&&n.debug&&n.debug.apply(this,arguments)};this.data=[],this.parameters=function(t,n){if(n=n||!1,e.isDefined(t)){for(var i in t){var o=t[i];if(n&&i.indexOf("[")>=0){for(var a=i.split(/\[(.*)\]/).reverse(),l="",u=0,p=a.length;u<p;u++){var f=a[u];if(""!==f){var d=o;(o={})[l=f]=r(d)?parseFloat(d):d}}"sorting"===l&&(c[l]={}),c[l]=e.extend(c[l]||{},o[l])}else c[i]=r(t[i])?parseFloat(t[i]):t[i]}return s("ngTable: set parameters",c),this}return c},this.settings=function(t){return e.isDefined(t)?(e.isArray(t.data)&&(t.total=t.data.length),u=e.extend(u,t),s("ngTable: set settings",u),this):u},this.page=function(t){return e.isDefined(t)?this.parameters({page:t}):c.page},this.total=function(t){return e.isDefined(t)?this.settings({total:t}):u.total},this.count=function(t){return e.isDefined(t)?this.parameters({count:t,page:1}):c.count},this.filter=function(t){return e.isDefined(t)?this.parameters({filter:t,page:1}):c.filter},this.sorting=function(t){if(2==arguments.length){var n={};return n[t]=arguments[1],this.parameters({sorting:n}),this}return e.isDefined(t)?this.parameters({sorting:t}):c.sorting},this.isSortBy=function(t,n){return e.isDefined(c.sorting[t])&&e.equals(c.sorting[t],n)},this.orderBy=function(){var e=[];for(var t in c.sorting)e.push(("asc"===c.sorting[t]?"+":"-")+t);return e},this.getData=function(t,n){return e.isArray(this.data)&&e.isObject(n)?t.resolve(this.data.slice((n.page()-1)*n.count(),n.page()*n.count())):t.resolve([]),t.promise},this.getGroups=function(n,i){var r=t.defer();return r.promise.then(function(t){var r={};e.forEach(t,function(t){var n=e.isFunction(i)?i(t):t[i];r[n]=r[n]||{data:[]},r[n].value=n,r[n].data.push(t)});var o=[];for(var a in r)o.push(r[a]);s("ngTable: refresh groups",o),n.resolve(o)}),this.getData(r,l)},this.generatePagesArray=function(e,t,n){var i,r,o,a,l;if(11,l=[],(a=Math.ceil(t/n))>1){l.push({type:"prev",number:Math.max(1,e-1),active:e>1}),l.push({type:"first",number:1,active:e>1,current:1===e}),r=Math.round(3),o=Math.max(2,e-r),i=Math.min(a-1,e+2*r-(e-o));for(var s=o=Math.max(2,o-(2*r-(i-o)));s<=i;)s===o&&2!==s||s===i&&s!==a-1?l.push({type:"more",active:!1}):l.push({type:"page",number:s,active:e!==s,current:e===s}),s++;l.push({type:"last",number:a,active:e!==a,current:e===a}),l.push({type:"next",number:Math.min(a,e+1),active:e<a})}return l},this.generatePageConfig=function(e,t,n){var i=n>0?Math.ceil(t/n):1;return{totalCount:i,steps:5,current:e}},this.url=function(t){var n=(t=t||!1)?[]:{};for(var i in c)if(c.hasOwnProperty(i)){var r=c[i],o=encodeURIComponent(i);if("object"==typeof r){for(var a in r)if(!e.isUndefined(r[a])&&""!==r[a]){var l=o+"["+encodeURIComponent(a)+"]";t?n.push(l+"="+r[a]):n[l]=r[a]}}else e.isFunction(r)||e.isUndefined(r)||""===r||(t?n.push(o+"="+encodeURIComponent(r)):n[o]=encodeURIComponent(r))}return n},this.reload=function(){var e=t.defer(),n=this,i=null;if(u.$scope)return u.$loading=!0,i=u.groupBy?u.getGroups(e,u.groupBy,this):u.getData(e,this),s("ngTable: reload data"),i||(i=e.promise),i.then(function(e){return u.$loading=!1,s("ngTable: current scope",u.$scope),u.groupBy?(n.data=e,u.$scope&&(u.$scope.$groups=e)):(n.data=e,u.$scope&&(u.$scope.$data=e)),u.$scope&&(u.$scope.pageInfo=n.generatePageConfig(n.page(),n.total(),n.count())),u.$scope.$emit("ngTableAfterReloadData"),e})},this.reloadPages=function(){u.$scope.pageInfo=this.generatePageConfig(this.page(),this.total(),this.count())};var c=this.$params={page:1,count:1,filter:{},sorting:{},group:{},groupBy:null};e.extend(c,i.params);var u={$scope:null,$loading:!1,data:null,total:0,defaultSort:"desc",filterDelay:750,counts:[10,25,50,100],getGroups:this.getGroups,getData:this.getData};return e.extend(u,i.settings),this.settings(a),this.parameters(o,!0),this}}]);var n=["$scope","ngTableParams","$timeout",function(t,n,i){var r=!0;t.$loading=!1,t.hasOwnProperty("params")||(t.params=new n,t.params.isNullInstance=!0),t.params.settings().$scope=t;var o,a=(o=0,function(e,t){i.cancel(o),o=i(e,t)});function l(){t.params.$params.page=1}t.$watch("params.$params",function(n,i){if(n!==i){if(t.params.settings().$scope=t,e.equals(n.filter,i.filter))t.params.reload();else{var o=r?e.noop:l;a(function(){o(),t.params.reload()},t.params.settings().filterDelay)}t.params.isNullInstance||(r=!1)}},!0),t.sortBy=function(e,n){var i=t.parse(e.sortable);if(i){var r=t.params.settings().defaultSort,o="asc"===r?"desc":"asc",a=t.params.sorting()&&t.params.sorting()[i]&&t.params.sorting()[i]===r,l=n.ctrlKey||n.metaKey?t.params.sorting():{};l[i]=a?o:r,t.params.parameters({sorting:l})}}}];t.provider("$ngTableConfig",[function(){var e="";this.setPagerTemplateUrl=function(t){if(!(t=t.trim()))throw new Error("templateUrl is empty");e=t},this.$get=[function(){return{pagerTemplate:e}}]}]),t.directive("ngTable",["$compile","$q","$parse","$ngTableConfig",function(t,i,r,o){return{restrict:"A",priority:1001,scope:!0,controller:n,compile:function(n){var i=[],a=0,l=null,s=n.find("thead");if(e.forEach(e.element(n.find("tr")),function(t){(t=e.element(t)).hasClass("ng-table-group")||l||(l=t)}),l)return e.forEach(l.find("td"),function(t){var n=e.element(t);if(!n.attr("ignore-cell")||"true"!==n.attr("ignore-cell")){var o=function(e,t){return function(o){return r(n.attr("x-data-"+e)||n.attr("data-"+e)||n.attr(e))(o,{$columns:i})||t}},l=o("title"," "),s=o("header",!1),c=o("filter",!1)(),u=!1,p=!1;c&&c.$$name&&(p=c.$$name,delete c.$$name),c&&c.templateURL&&(u=c.templateURL,delete c.templateURL),n.attr("data-title-text",l()),i.push({id:a++,title:l,sortable:o("sortable",!1),class:n.attr("x-data-header-class")||n.attr("data-header-class")||n.attr("header-class"),filter:c,filterTemplateURL:u,filterName:p,headerTemplateURL:s,filterData:n.attr("filter-data")?n.attr("filter-data"):null,show:n.attr("ng-show")?function(e){return r(n.attr("ng-show"))(e)}:function(){return!0}})}}),function(n,a,l){if(n.$loading=!1,n.$columns=i,n.$filterRow={},n.$watch(l.ngTable,function(t){e.isUndefined(t)||(n.paramsModel=r(l.ngTable),n.params=t)},!0),n.parse=function(t){return e.isDefined(t)?t(n):""},l.showFilter&&n.$parent.$watch(l.showFilter,function(e){n.show_filter=e}),l.disableFilter&&n.$parent.$watch(l.disableFilter,function(e){n.$filterRow.disabled=e}),e.forEach(i,function(t){var i;if(t.filterData)return i=r(t.filterData)(n,{$column:t}),e.isObject(i)&&e.isObject(i.promise)?(delete t.filterData,i.promise.then(function(n){e.isArray(n)||e.isFunction(n)||e.isObject(n)?e.isArray(n)&&n.unshift({title:"-",id:""}):n=[],t.data=n})):t.data=i}),!a.hasClass("ng-table")){n.templates={header:l.templateHeader?l.templateHeader:"lui-tpl/NgTable/header.tmpl.html",pagination:l.templatePagination?l.templatePagination:o.pagerTemplate},n.templates.pagination||(n.templates.pagination="lui-tpl/NgTable/pager.tmpl.html");var c=s.length>0?s:e.element(document.createElement("thead")).attr("ng-include","templates.header"),u=e.element(document.createElement("div")).attr({"ng-table-pagination":"params","template-url":"templates.pagination"});a.find("thead").remove(),a.addClass("ng-table").prepend(c).after(u),t(c)(n),t(u)(n)}}}}}]),t.directive("ngTablePagination",["$compile",function(t){return{restrict:"A",scope:{params:"=ngTablePagination",templateUrl:"="},replace:!1,link:function(n,i,r){n.params.settings().$scope.$on("ngTableAfterReloadData",function(){n.pages=n.params.generatePagesArray(n.params.page(),n.params.total(),n.params.count()),n.pageInfo=n.params.generatePageConfig(n.params.page(),n.params.total(),n.params.count())},!0),n.$watch("templateUrl",function(r){if(!e.isUndefined(r)){var o=e.element(document.createElement("div"));o.attr({"ng-include":"templateUrl"}),i.append(o),t(o)(n)}}),n.onPageChange=function(){n.params.page(n.pageInfo.current)}}}}])})(e)}(angular||null),angular.module("LINDGE.UI-Core.Control.NgTableSupport",["LINDGE.UI-Core.Control.NgTable"]).factory("$ngTableFactory",["ngTableParams","$filter","$SDK",function(e,t,n){function i(e,t){return{page:t.page()-1,pageSize:e.pageSize(),sort:t.orderBy(),filter:e.currentFilter()}}function r(e){this._provider=e}function o(e){this._provider=e}function a(e){this._provider=e,this._loadIndex=0}r.prototype.load=function(e,t,n,r){this._provider.call(null,null,(r,o)=>{var a=i(e,t),l=a.sort.length>0;if("function"==typeof a.filter?o=o.filter(a.filter):l&&(o=o.slice()),l){var s=a.sort.map(t=>e.getSorter(t)||t),c=o.map((e,t)=>({value:e,index:t}));o=c.sort((e,t)=>{for(var n=0;n<s.length;n++){var i=s[n];if(i)try{var r=i(e.value,t.value);if(0!==r)return r}catch(e){}}return e.index<t.index?-1:1}).map(e=>e.value)}var u=a.pageSize>=0?o.slice(a.page*a.pageSize,(a.page+1)*a.pageSize):o;n(o.length,u)},r)},o.prototype.load=function(e,t,n,r){this._provider.call(null,i(e,t),n,r)},a.prototype.load=function(e,t,n,r){this._loadIndex++;var o=this._loadIndex;e.markDataLoading(!0),this._provider.call(null,i(e,t),(t,i)=>{this._loadIndex===o&&(n(t,i),e.markDataLoading(!1))},t=>{this._loadIndex===o&&(e.markDataLoading(!1),r(t))})};var l=e=>e;function s(e,t){this._selComparator=e,this._selConverter=t}function c(e,t,n){s.call(this,e,t),this._selComparator=e,this._selConverter=t,this._setting=n,this._current=null}function u(e,t,n){s.call(this,e,t),this._selConverter=t,this._setting=n,this._selection=new Set}s.prototype._toSelectionId=function(e){return this._selConverter&&!this._selComparator?this._selConverter.call(null,e):e},n.Lang.inherits(c,s),c.prototype.select=function(e){this.isSelected(e)?this._setting.allowToggle&&(this._current=null):this._current=this._toSelectionId(e)},c.prototype.deselect=function(e){this.isSelected(e)&&(this._current=null)},c.prototype.isSelected=function(e){return null!==this._current&&(this._selComparator?this._selComparator.call(null,e,this._current):this._toSelectionId(e)==this._current)},c.prototype.hasSelection=function(){return null!==this._current},c.prototype.getSelection=function(){return null===this._current?null:this._selComparator&&this._selConverter?this._selConverter.call(null,this._current):this._current},c.prototype.clearSelection=function(){this._current=null},n.Lang.inherits(u,s),u.prototype._getMatchFromSelection=function(e){if(this._selComparator){for(let t of this._selection)if(this._selComparator.call(null,t,e))return t;return null}var t=this._toSelectionId(e);return this._selection.has(t)?t:null},u.prototype.select=function(e){var t=this._getMatchFromSelection(e);if(null===t){var n=this._toSelectionId(e);this._selection.add(n)}else this._setting.allowToggle&&this._selection.delete(t)},u.prototype.deselect=function(e){var t=this._getMatchFromSelection(e);null!==t&&this._selection.delete(t)},u.prototype.isSelected=function(e){return null!==this._getMatchFromSelection(e)},u.prototype.hasSelection=function(){return this._selection.size>0},u.prototype.getSelection=function(){if(this.hasSelection()){var e=Array.from(this._selection);return this._selComparator&&this._selConverter?e.map(this._selConverter):e}return[]},u.prototype.clearSelection=function(){this._selection=new Set};var p={AUTO:1,SYNC:2,ASYNC:3},f={NONE:0,SINGLE:1,MULTI:2};function d(e,t){this.key=e,this.filter=t}function h(e,t,n){this._dataLoader=e,this._selectionManager=n,this._filter="",this._sorting=t.sorting||{},this._setting=t,this._loadingState=!1,this._table={baseParam:null,baseSetting:null,table:null},this._initTable(t)}return h.prototype._processData=function(e){if(this._setting.addDisplayIndex){var t=this._setting.pageSize;t>=0?e.forEach((e,n)=>{e.$index=this.page()*t+n+1}):e.forEach((e,t)=>{e.$index=t+1})}},h.prototype._initTable=function(t){var n={page:1,count:t.pageSize,filter:{},sorting:null},i=t.initSorting;n.sorting=i?"string"==typeof i?{[i]:"asc"}:i:{};var r={counts:[],getData:(e,t)=>{this._dataLoader.load(this,t,(n,i)=>{t.total(n),this._processData(i),e.resolve(i)},angular.noop)}},o=new e(n,r);this._table.baseParam=n,this._table.baseSetting=r,this._table.table=o},h.prototype.pageSize=function(){return this._setting.pageSize},h.prototype.currentFilter=function(){return this._filter instanceof d?this._filter.filter:this._filter},h.prototype.setFilter=function(e){if(!(this._filter instanceof d&&e instanceof d?this._filter.key==e.key:this._filter===e)){this._filter=e;var t=this._table.table;1!=t.page()?t.page(1):t.reload()}},h.prototype.currentSorter=function(){return this._sorter?this._sorter.sorter:this._table.table.orderBy()},h.prototype.getSorter=function(e){var t=/^([+\-]?)(.+)/.exec(e);if(t){var n=t[2];return this._sorting.hasOwnProperty(n)?"-"==t[1]?this._sorting[n].desc:this._sorting[n].asc:function(e,t){return t?(t,n)=>t[e]==n[e]?0:t[e]<n[e]?1:-1:(t,n)=>t[e]==n[e]?0:t[e]>n[e]?1:-1}(n,"-"==t[1])}return null},h.prototype.sort=function(e){var t=this._table.table;"string"==typeof e?t.sorting({[e]:"asc"}):t.sorting(e)},h.prototype.markDataLoading=function(e){this._loadingState=e},h.prototype.isLoadingData=function(){return this._loadingState},h.prototype.reload=function(){this._table.table.reload()},h.prototype.page=function(){return this._table.table.page()-1},h.prototype.setPage=function(e,t){this.page()!=e?this._table.table.page(e+1):t&&this.reload()},h.prototype._canSelect=function(e){var t=this._setting.selectionFilter;return"function"!=typeof t||t(e)},h.prototype.select=function(e){null!==this._selectionManager&&this._canSelect(e)&&this._selectionManager.select(e)},h.prototype.deselect=function(e){null!==this._selectionManager&&this._selectionManager.deselect(e)},h.prototype.isSelected=function(e){return null!==this._selectionManager&&this._selectionManager.isSelected(e)},h.prototype.getSelection=function(){return null!==this._selectionManager?this._selectionManager.getSelection():null},h.prototype.hasSelection=function(){return null!==this._selectionManager&&this._selectionManager.hasSelection()},h.prototype.clearSelection=function(){null!==this._selectionManager&&this._selectionManager.clearSelection()},h.prototype.getTable=function(){return this._table.table},h.prototype.rowCount=function(){return this._table.table.data.length},h.prototype.hasRow=function(){return this.rowCount()>0},h.prototype.getPageData=function(){return this._table.table.data},h.prototype.getPageSelectableData=function(){return this._setting.selectionFilter?this._table.table.data.filter(this._setting.selectionFilter):this.getPageData()},{DATA_LOAD_POLICY:p,SELECTION_POLICY:f,createTableService:function(e){var t,n,i={pageSize:-1,dataLoadPolicy:p.SYNC,dataProvider:null,dataSelectionPolicy:f.NONE,dataSelectionConverter:l,dataSelectionComparator:null,dataSelectionFilter:null,autoToggleSelection:!1,addDisplayIndex:!1,sorting:null,initSorting:null};if(angular.extend(i,e),!i.dataProvider)throw new Error("dataProvider is missing");t=i.dataLoadPolicy===p.AUTO?new r(i.dataProvider):i.dataLoadPolicy===p.SYNC?new o(i.dataProvider):new a(i.dataProvider);var s={allowToggle:i.autoToggleSelection};return n=i.dataSelectionPolicy===f.SINGLE?new c(i.dataSelectionComparator,i.dataSelectionConverter,s):i.dataSelectionPolicy===f.MULTI?new u(i.dataSelectionComparator,i.dataSelectionConverter,s):null,new h(t,{pageSize:i.pageSize,addDisplayIndex:i.addDisplayIndex,selectionFilter:i.dataSelectionFilter,sorting:i.sorting,initSorting:i.initSorting},n)},createTableFilter:function(e,t){return new d(e,t)}}}]),angular.module("LINDGE.UI-Core.Control.NgTableControl",["LINDGE.UI-Core.Control.NgTableSupport"]).directive("luiTableHeaderSelector",[function(){return{priority:1,scope:{table:"="},restrict:"E",template:'<md-checkbox ng-checked="isChecked()" md-indeterminate="isIndeterminate()" ng-click="changeAllSelection()"></md-checkbox>',replace:!1,link:function(e,t,n,i){function r(e){for(var t=e.getPageSelectableData(),n=0,i=0;i<t.length;i++)e.isSelected(t[i])&&n++;return 0===n?"none":n==t.length?"all":"some"}function o(){return e.table?e.table:null}e.isChecked=function(){var e=o();return!!e&&"all"==r(e)},e.isIndeterminate=function(){var e=o();return!!e&&"some"==r(e)},e.changeAllSelection=function(){var e=o();if(e){var t=r(e),n=e.getPageSelectableData();"all"==t?n.forEach(function(t){e.isSelected(t)&&e.deselect(t)}):n.forEach(function(t){e.isSelected(t)||e.select(t)})}}}}}]),angular.module("LINDGE.UI-Core.Control.Outscope",[]).directive("uiOutscope",[function(){return{priority:100,scope:!1,restrict:"EA",replace:!1,link:function(e,t,n){var i=n.uiOutscope,r=document.body.querySelector(`[outscope-container="${i}"]`);r&&((r=angular.element(r)).empty(),r.append(t),e.$on("$destroy",function(){r.empty()}))}}}]),angular.module("LINDGE.UI-Core.Control.Popover",[]).provider("$luiPopover",["$SDK",function(e){var t={TOP:1,BOTTOM:2,VERTICAL:3,LEFT:4,RIGHT:8,HORIZONTAL:12},n={NONE:0,AUTO:32768,LEFT:1,RIGHT:2,HCENTER:3,TOP:4,BOTTOM:8,VCENTER:12},i=3,r=15,o=null,a={};function l(e){var t=e.getBoundingClientRect();return{screen:{top:t.top,right:t.right,left:t.left,bottom:t.bottom},top:t.top,right:t.right,left:t.left,bottom:t.bottom,width:t.width,height:t.height}}function s(e,o){var a,s=window.innerHeight,c=window.innerWidth,u=o.position,p=o.alignment,f=o.mouseEvent,d=o.inline&&f;a=d?function(e,t){var n=l(e),i=function(e,t){var n=e.clientX,i=e.clientY,r=t.getBoundingClientRect();return[n-r.left,i-r.top]}(t,e),r=parseFloat(window.getComputedStyle(e).fontSize),o=n.height;if(n.screen.left=t.clientX,n.screen.right=t.clientX+1,n.width=1,n.height=1,n.left+=i[0],n.right=n.left+1,o<=1.5*r)return n;var a=Math.ceil((t.clientY-n.screen.top)/r),s=[(a-1)*r,a*r];return n.screen.bottom=n.screen.top+s[1],n.screen.top+=s[0],n.bottom=n.top+s[1],n.top+=s[0],n}(e[0],f):l(e[0]);var h={maxHeight:-1,maxWidth:-1,bottom:-1,top:-1,left:-1,right:-1,position:null,alignment:null,pointerRange:{bottom:-1,top:-1,left:-1,right:-1}};if(u&t.VERTICAL){if(u&0==t.BOTTOM||a.screen.top>=s/2?(h.bottom=s-a.top+i,h.maxHeight=a.screen.top-2*i,h.position=t.TOP):(h.top=a.bottom+i,h.maxHeight=s-a.screen.bottom-2*i,h.position=t.BOTTOM),p==n.AUTO)p=a.screen.left+a.width/2<=c/2?n.LEFT:n.RIGHT;p==n.HCENTER||(p&n.LEFT?(d?(h.left=a.left-r,h.maxWidth=c-a.left-i+r):(h.left=a.left,h.maxWidth=c-a.left-i),h.pointerRange.left=a.left-h.left,h.pointerRange.right=h.pointerRange.left+a.width,h.alignment=n.LEFT):(d?(h.right=c-a.right-r,h.maxWidth=a.right-i+r):(h.right=c-a.right,h.maxWidth=a.right-i),h.pointerRange.right=c-a.right-h.right,h.pointerRange.left=h.pointerRange.right+a.width,h.alignment=n.RIGHT))}return h}this.registerTemplate=function(e,t,n){var i={name:e,factory:t};a[e]=i,o&&!n||(o=i)},this.POSITION=t,this.ALIGNMENT=n,this.$get=["$log","$compile","$controller","$rootScope",function(i,r,l,c){var u=null;function p(p,f){if("string"==typeof p&&null!==(p=document.querySelector(p))&&(p=angular.element(p)),p){if(p=angular.element(p),(f=function(e){var i={popoverTemplate:o,inline:!1,mouseEvent:null,compile:!1,scope:null,controller:null,content:null,locals:null,position:t.VERTICAL,alignment:n.AUTO};if("string"==typeof e?i.content=e:angular.extend(i,e),"string"==typeof i.popoverTemplate){var r=a[i.popoverTemplate]||null;i.popoverTemplate=r?r.factory:null}return i}(f)).popoverTemplate){u&&u.hide();var d=s(p,f),h=angular.element('<div class="lui-popover-wrapper">');!function(e,n){n&t.VERTICAL?e.addClass("direction-vertical"):e.addClass("direction-horizontal")}(h,d);var g={};["height","width","top","right","bottom","left","maxWidth","maxHeight"].forEach(function(e){var t;g[e]=(t=d[e])>0?t+"px":""}),h.css(g);var m=f.popoverTemplate.createPanel(h,d,f),v=angular.element(f.content);if(m.append(v),f.compile){var w=f.scope||c.$new();if(r(m)(w),f.controller)try{var y={$scope:w,$popoverHandle:C};f.locals&&angular.extend(y,f.locals),l(f.controller,y)}catch(e){i.error("luipopover: error when initaition controller",e)}}var b=[];if(f.preventScroll){var S=e.DOM.getScrollParent(p[0]);S&&b.push(function(e){function t(e){e.preventDefault()}return e.addEventListener("wheel",t),e.addEventListener("keydown",t),e.addEventListener("touchmove",t),function(){e.removeEventListener("wheel",t),e.removeEventListener("keydown",t),e.removeEventListener("touchmove",t)}}(S))}var C={wrapper:h,hide:function(){this.wrapper.remove(),u=null,b.forEach(function(e){try{e()}catch(e){}})}};return document.body.appendChild(h[0]),u=C,C}i.warn("luipopover: cannot load popover template")}else i.warn("luipopover: cannot find refElement")}return{showPopover:p,triggerByHover:function(e,t){var n={disabled:!1,elm:angular.element(e),delayHandle:0,popoverShow:!1,popover:null};function i(e){e&&clearTimeout(n.delayHandle),n.delayHandle=0}function r(e){var i;(i="function"==typeof t.getConfig?t.getConfig():t).mouseEvent=e;var r=p(n.elm,i);return n.popoverShow=!0,n.popover=r,r.wrapper.bind("mouseenter",s),r.wrapper.bind("mouseleave",l),r}function o(){n.delayHandle>0&&i(!0),n.popoverShow&&(n.popover.wrapper.unbind("mouseenter",s),n.popover.wrapper.unbind("mouseleave",l),n.popover.hide(),n.popover=null,n.popoverShow=!1)}function a(e){n.disabled||(n.delayHandle>0&&i(!0),n.popoverShow||(t.popoverShowDelay>0?n.delayHandle=setTimeout(function(){i(!1),r(e)},t.popoverShowDelay):r(e)))}function l(e){n.delayHandle>0&&i(!0),n.popoverShow&&(t.popoverHideDelay>0?n.delayHandle=setTimeout(function(){i(!1),o()},t.popoverHideDelay):o())}function s(e){n.delayHandle>0&&i(!0)}return n.elm.bind("mouseenter",a),n.elm.bind("mouseleave",l),n.hidePopover=o,n.discardTrigger=function(){n.elm.unbind("mouseenter",a),n.elm.unbind("mouseleave",l)},n},POSITION:t,ALIGNMENT:n}}]}]).directive("luiPopoverTrigger",["$log","$luiPopover",function(e,t){return{priority:1,scope:{triggerType:"@",luiPopoverTrigger:"="},restrict:"A",replace:!1,link:function(n,i,r){var o=null;n.$watch("luiPopoverTrigger",function(r){if(o&&(o.discardTrigger(),o=null),r&&"object"==typeof r)switch(n.triggerType){case"hover":o=t.triggerByHover(i,r);break;default:e.warn("luiPopoverTrigger: unsupported trigger type "+n.triggerType)}}),n.$on("$destroy",function(){o&&o.discardTrigger()})}}}]),angular.module("LINDGE.UI-Core.scrollStick",["LINDGE.UI-Core.Service.DOMService"]).directive("scrollStick",["ElementStateMonitor",function(e){var t="scroll-sticked",n={toVisibleBottom:function(e,t){var n=e[0].getBoundingClientRect();e.css("height",`calc(100vh - ${n.top}px)`)}};return{priority:1,scope:!1,restrict:"A",replace:!1,link:function(i,r,o){var a,l=r.parent();if(a=o.scrollStickParent?document.body.querySelector(o.scrollStickParent):l[0]){var s=function(e){var t={align:"left",offsetTop:0,offsetHoriz:0};return"string"==typeof e?t.align=e:"number"==typeof e?t.offsetTop=e:angular.extend(t,e),t}(i.$eval(o.scrollStickConfig)),c=[],u=!1,p=null;o.scrollStickResize&&o.scrollStickResize.split(",").forEach(function(e){if(""!==(e=e.trim())){var t=n[e];t&&c.push(t)}}),setTimeout(function(){var t=0;function n(n){var r=new e.VisibilityChecker(n);return r.addCallback(function(e){e&&(r.enable=!1,2==++t&&(p.stopWatch(),a.addEventListener("scroll",f),i.$on("$destroy",function(){a.removeEventListener("scroll",f)})))}),r}(p=new e.ElementStateMonitor).addChecker(n(a)).addChecker(n(l[0])),p.beginWatch()},30),i.$on("$destroy",function(){p&&p.isWatching&&p.stopWatch()})}function f(e){var n=a.getBoundingClientRect();if(l[0].getBoundingClientRect().y-n.y<0){if(!u){var p=r[0].getBoundingClientRect(),f={position:"fixed",top:String(n.y+s.offsetTop)+"px"};"left"==s.align?f.left=String(p.left+s.offsetHoriz)+"px":"right"==s.align&&(f.right=String(window.innerWidth-p.right+s.offsetHoriz)+"px"),r.css(f),(!angular.isDefined(o.scrollStickAddClass)||i.$eval(o.scrollStickAddClass))&&r.addClass(t),u=!0}}else u&&(r.css({position:"",top:"",left:"",right:""}),r.removeClass(t),u=!1);c.length>0&&c.forEach(function(e){e(r,n)})}}}}]),angular.module("LINDGE.UI-Core.Control.RightClick",[]).directive("ngRightClick",["$parse",function(e){return function(t,n,i){var r=e(i.ngRightClick);n.bind("contextmenu",function(e){t.$apply(function(){e.preventDefault(),r(t,{$event:e})})})}}]),angular.module("LINDGE.UI-Core.Control.ProgressLinear",[]).directive("luiProgressLinear",["$SDK",function(e){return{priority:1,scope:!1,restrict:"E",template:['<div class="progress-container">','<div class="lui-progress-bar bar1"></div>',"</div>"].join(""),replace:!1,link:function(t,n,i){var r=i.hasOwnProperty("disabled"),o=angular.element(n[0].querySelector(".bar1"));angular.element(n[0].querySelector(".progress-container"));i.$observe("value",function(t){if(!r){var n=function(t){return e.Math.clamp(0,100,t)}(t);!function(e,t){e.css("transform","translate("+(t-100)+"%)")}(o,n),n}}),i.$observe("disabled",function(e){r=angular.isDefined(e)})}}}]),angular.module("LINDGE.UI-Core.Control.Slider",["LINDGE.UI-Core.Service.Drag"]).service("$sliderHelper",["$SDK",function(e){function t(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}this.computeRatio=function(e,t,n){return(n-e)/(t-e)},this.computeValue=function(e,t,n){return e+(t-e)*n},this.getElemPageX=function(e){return function e(n){return t()===n.offsetParent||n.offsetParent==window.document.body||null===n.offsetParent?n.offsetLeft:n.offsetLeft+e(n.offsetParent)}(e)},this.getElemPageY=function(e){return function e(n){return t()===n.offsetParent||n.offsetParent==window.document.body||null===n.offsetParent?n.offsetTop:n.offsetTop+e(n.offsetParent)}(e)};var n=e.Math.closeEnough;function i(e){var t=parseFloat(e);return isNaN(t)?0:t}this.getStepPos=function(e,t,i,r){if(r<=e)return e;if(r>=t)return t;if(n(i,0))return r;var o,a,l=t-e;if(i>=l)o=e,a=t;else{var s=(r-e)/l/(i/l);o=e+Math.floor(s)*i,a=e+Math.ceil(s)*i}return n(r,o)?o:n(r,a)?Math.min(t,a):r-o<=i/2?o:a},this.getCSSWidth=function(e){return e?i(window.getComputedStyle(e).width):0},this.getCSSHeight=function(e){return e?i(window.getComputedStyle(e).height):0}}]).controller("valueSliderCtrl",["$scope","$element","$attrs","$sliderHelper",function(e,t,n,i){var r={horizontal:{initElements:function(e){},updateProgressElm:function(e,t){e.css("width",100*t+"%")},compuateRatioFromEvent:function(e,t){var n=e[0],i=n.getBoundingClientRect().left;return(t.clientX-i)/n.offsetWidth},computeRatioFromHandleEvent:function(e,t,n){return(t.clientX-n.left)/n.width},updateHandleElm:function(e,t){var n=i.getCSSWidth(e[0]);e.css("left",["calc(",100*t+"%"," - ",n/2+"px"].join(""))}},vertical:{initElements:function(e){e.addClass("vertical")},updateProgressElm:function(e,t){e.css("height",100*t+"%")},compuateRatioFromEvent:function(e,t){var n=e[0],i=n.getBoundingClientRect().top;return 1-(t.clientY-i)/n.offsetHeight},computeRatioFromHandleEvent:function(e,t,n){return 1-(t.clientY-n.top)/n.height},updateHandleElm:function(e,t){var n=i.getCSSHeight(e[0]);e.css("top",["calc(",100*(1-t)+"%"," - ",n/2+"px"].join(""))}}};e.$ratio=0,e.$value=0,this.isVertical=n.hasOwnProperty("vertical"),this.manipulator=this.isVertical?r.vertical:r.horizontal,this.value=function(t){if(isNaN(t))return e.$value;e.$updateValue(t)},this.ratio=function(t){if(isNaN(t))return e.$ratio;e.$updateValue(i.computeValue(e.min,e.max,t))},this.getScope=function(){return e.$new()},this.getParentRect=function(){var e=t[0].getBoundingClientRect();return{width:t[0].offsetWidth,height:t[0].offsetHeight,x:i.getElemPageX(t[0]),y:i.getElemPageY(t[0]),top:e.top,left:e.left}},this.getSliderContainer=function(){return t[0]},this.getSlierBar=function(){return t.children().eq(1)[0]},this.getIsEnable=function(){return!e.ngDisabled},this.triggerSlideEvent=function(){e.onSlide()}}]).directive("valueSlider",["$document","$sliderHelper","$SDK",function(e,t,n){return{priority:2,scope:{min:"=",max:"=",step:"=",showContainer:"=",ngDisabled:"=",reference:"=",onChange:"&onChange",onSlide:"&onSlide"},controller:"valueSliderCtrl",require:["valueSlider","ngModel"],restrict:"E",templateUrl:"lui-tpl/Slider/slider.tmpl.html",replace:!0,transclude:!0,link:function(i,r,o,a){var l=a[0].manipulator;i.min=i.min||0,i.max=i.max||1;var s=i.step||0,c=!n.Math.closeEnough(i.step,0);if(i.min>i.max)throw new Error("Invalid range");var u=n.Math.clamp,p=a[1],f=r.children().eq(0),d=f.children().eq(1),h=f.children().eq(0),g=f.children().eq(2),m=f.children().eq(3);function v(e){e||p.$setViewValue(i.$value),i.$broadcast("sliderValueChange",i.$ratio,i.$value),l.updateProgressElm(d,i.$ratio),i.onChange()}function w(e){if(e.preventDefault(),e.srcElement!==m[0]){var t=l.compuateRatioFromEvent(r,e);i.$updateRatio(t),i.$apply(),i.onSlide()}}l.initElements(r),!1===i.showContainer&&f.css("background-color","transparent"),i.$updateValue=function(e,n){c?(i.$value=t.getStepPos(i.min,i.max,s,e),i.$ratio=t.computeRatio(i.min,i.max,i.$value)):(i.$value=u(i.min,i.max,e),i.$ratio=t.computeRatio(i.min,i.max,i.$value)),v(n)},i.$updateRatio=function(e,n){if(c){var r=u(0,1,e),o=t.computeValue(i.min,i.max,r);i.$value=t.getStepPos(i.min,i.max,s,o),i.$ratio=t.computeRatio(i.min,i.max,i.$value)}else i.$ratio=u(0,1,e),i.$value=t.computeValue(i.min,i.max,i.$ratio);v(n)},r.bind("mousedown",function(t){i.ngDisabled||0!==t.button?t.stopPropagation():(w(t),e.bind("mousemove",w))}),r.bind("click",function(e){e.stopPropagation()}),e.bind("mouseup",function(){e.unbind("mousemove",w)}),p.$render=function(){var e=p.$viewValue||0;i.$updateValue(e,!0)},i.$watch("ngDisabled",function(e){e?(r.addClass("disabled"),i.$broadcast("sliderDisabled",e)):(r.removeClass("disabled"),i.$broadcast("sliderDisabled",e))}),g.bind("mousedown",function(e){e.preventDefault(),e.stopPropagation(),i.ngDisabled||0!==e.button||(i.$updateValue(i.min),i.onSlide(),i.$apply())}),m.bind("mousedown",function(e){e.preventDefault(),e.stopPropagation(),i.ngDisabled||0!==e.button||(i.$updateValue(i.max),i.onSlide(),i.$apply())}),i.$watch("reference",function(e){if(!isNaN(e)){var t=u(0,1,e);l.updateProgressElm(h,t)}},!0)}}}]).directive("valueSliderHandler",["$document","$sliderHelper","$luiDragAction",function(e,t,n){return{priority:1,scope:{handleSize:"="},require:"^valueSlider",restrict:"EA",template:'<div class="value-slider-handler"></div>',replace:!0,link:function(i,r,o,a){var l=a.manipulator,s=a.getScope();function c(e){e.preventDefault(),e.stopPropagation();var t=a.getParentRect(),n=l.computeRatioFromHandleEvent(r,e,t);a.ratio(n),a.triggerSlideEvent()}r.css("top","calc(50% - "+t.getCSSHeight(r[0])/2+"px)"),r.bind("mousedown",function(t){a.getIsEnable()&&0===t.button&&(t.preventDefault(),t.stopPropagation(),e.bind("mousemove",c))}),e.bind("mouseup",function(){e.unbind("mousemove",c)});var u=new n;r.bind("touchstart",function(e){a.getIsEnable()&&!u.isActive()&&u.active(e,u.ACTION_TYPES.touch)}),e.bind("touchmove",function(e){if(u.isActive()){e.stopPropagation();var t=a.getParentRect(),n=l.computeRatioFromHandleEvent(r,e.touches[0],t);a.ratio(n),a.triggerSlideEvent()}}),e.bind("touchend",function(e){u.isActive()&&u.deactive(e)}),s.$on("sliderValueChange",function(e,t,n){l.updateHandleElm(r,t)}),s.$on("sliderDisabled",function(e,t){t?r.addClass("disabled"):r.removeClass("disabled")})}}}]),angular.module("LINDGE.UI-Core.Control.ScrollView",["LINDGE.UI-Core.Service.Drag"]).controller("$luiScrollViewCtrl",["$scope","$element","$attrs","$document","$luiDragAction",function(e,t,n,i,r){var o,a={horizon:!1,vertical:!0,track:!0,scrollbar:!0,wheel:!0},l={currentScrollX:0,currentScrollY:0,wrapperSizeX:0,wrapperSizeY:0,contentSizeX:0,contentSizeY:0,pixelRatioX:1,pixelRatioY:1},s={resizeDetectingInterval:200,minScrollbarSize:30,wheelSpeed:.5,swipeSensitive:1.5},c={scroll:[],update:[],destroy:[]},u=t.children().eq(0),p=angular.element(t[0].querySelector(".scroll-wrapper")),f=p.children().eq(0);function d(e){var t=Array.prototype.slice.call(arguments,1);c[e].forEach(function(e){e.apply(t)})}function h(){var e=l.contentSizeX-l.wrapperSizeX;return e>=0?e:0}function g(){var e=l.contentSizeY-l.wrapperSizeY;return e>=0?e:0}function m(){var e=p[0].getBoundingClientRect(),t=f[0].getBoundingClientRect();l.wrapperSizeX=e.width,l.wrapperSizeY=e.height,l.contentSizeX=t.width,l.contentSizeY=t.height;var n=h();if(0===n)l.pixelRatioX=1;else{var i=Math.min(n,l.wrapperSizeX-s.minScrollbarSize);l.pixelRatioX=i/n}var r=g();if(0===r)l.pixelRatioY=1;else{var o=Math.min(r,l.wrapperSizeY-s.minScrollbarSize);l.pixelRatioY=o/r}}function v(e,t){if(l.contentSizeX<=l.wrapperSizeX)l.currentScrollX=0;else if(null!==e){var n=h();e=Math.max(0,Math.min(e,n)),l.currentScrollX=e}if(l.contentSizeY<=l.wrapperSizeY)l.currentScrollY=0;else if(null!==t){var i=g();t=Math.max(0,Math.min(t,i)),l.currentScrollY=t}o(p[0],l.currentScrollX,l.currentScrollY),d("scroll",l.currentScrollX,l.currentScrollY)}p.scrollTop=0,p.scrollLeft=0,o=angular.isFunction(p[0].scrollTo)?function(e,t,n){e.scrollTo(t,n)}:function(e,t,n){e.scrollLeft=t,e.scrollTop=n};var w=null;a.wheel&&p.bind("wheel",function(e){(e=e.originalEvent||e).deltaY&&(e.preventDefault(),e.stopPropagation(),v(null,l.currentScrollY+e.deltaY*l.pixelRatioY*s.wheelSpeed))});var y=new r;function b(e){if(y.isActive()){e.preventDefault(),e.stopPropagation();var t=y.offset(e);v(l.currentScrollX-t[0]*s.swipeSensitive,l.currentScrollY-t[1]*s.swipeSensitive)}}function S(e){y.isActive()&&(y.deactive(e),i.unbind("touchmove",b))}p.bind("touchstart",function(e){y.isActive()||(y.active(e,y.ACTION_TYPES.touch),i.bind("touchmove",b))}),i.bind("touchend",S),e.$on("$destroy",function(){d("destroy"),w&&window.clearTimeout(w),i.unbind("touchend",S)}),function(){var e=n.feature;e&&e.split(";").forEach(function(e){var t=e.split("="),n=t[0].trim();if(a.hasOwnProperty(n)){var i=t[1].trim();"true"==i||"1"==i?a[n]=!0:"false"!=i&&"0"!=i||(a[n]=!1)}});var i=n.height;i&&(/px\s*$/.test(i)||(i+="px"),p.css("height",i)),n.class&&(p.addClass(n.class),t.removeAttr("class"))}(),m(),setTimeout(function e(){var t=angular.extend({},l);m(),(a.horizon&&l.contentSizeX!=t.contentSizeX||a.vertical&&l.contentSizeY!=t.contentSizeY)&&(v(l.currentScrollX,l.currentScrollY),d("update")),w=setTimeout(e,s.resizeDetectingInterval)},s.resizeDetectingInterval),this.getFeatures=function(){return a},this.getCurrentScrollPosition=function(){return[l.currentScrollX,l.currentScrollY]},this.getScrollSizeX=function(){return h()},this.getScrollSizeY=function(){return g()},this.scrollXBy=function(e,t){t&&(e/=l.pixelRatioX),v(l.currentScrollX+e,null)},this.scrollYBy=function(e,t){t&&(e/=l.pixelRatioY),v(null,l.currentScrollY+e)},this.forceUpdate=function(){w&&window.clearTimeout(w),w()},this.getScrollbarSizeX=function(){return(e=h())>0?Math.max(l.wrapperSizeX-e,s.minScrollbarSize):0;var e},this.getScrollbarSizeY=function(){return(e=g())>0?Math.max(l.wrapperSizeY-e,s.minScrollbarSize):0;var e},this.getCurrentScrollbarPosition=function(){return[l.currentScrollX*l.pixelRatioX,l.currentScrollY*l.pixelRatioY]},this.addEventListener=function(e,t){if(!c.hasOwnProperty(e))throw new Error("invalid event name");if(!angular.isFunction(t))throw new TypeError("invalid callback");c[e].push(t)},this.markInteractiveState=function(e){e?u.addClass("scroll-interactive"):u.removeClass("scroll-interactive")}}]).directive("luiScrollView",[function(){return{priority:1,scope:!1,require:"luiScrollView",controller:"$luiScrollViewCtrl",restrict:"E",templateUrl:"lui-tpl/ScrollView/scrollview.tmpl.html",transclude:!0,replace:!1,link:function(e,t,n,i){e.showVerticalScrollbar=i.getFeatures().vertical}}}]).directive("luiScrollHandle",["$document","$luiDragAction",function(e,t){var n={init:function(e){e.css("top","0")},resize:function(e,t){var n=e.getScrollbarSizeY();return n>0&&(t.css("height",n+"px"),!0)},position:function(e,t){var n=e.getCurrentScrollbarPosition()[1];t.css("top",n+"px")},drag:function(e,t,n){var i=e.offset(t);n.scrollYBy(i[1],!0)}},i=null;return{priority:1,scope:{mode:"@"},require:"^luiScrollView",restrict:"EA",templateUrl:"lui-tpl/ScrollView/scrollbar.tmpl.html",replace:!0,transclude:!1,link:function(r,o,a,l){var s;switch(r.useTrack=l.getFeatures().track,r.active=!1,r.mode){case"vertical":s=n;break;case"horizontal":s=i;break;default:return}o.addClass(r.mode);var c=angular.element(o[0].querySelector(".scrollbar"));function u(){c.addClass("active"),l.markInteractiveState(!0)}function p(){c.removeClass("active"),l.markInteractiveState(!1)}function f(){r.active=s.resize(l,c)}function d(){s.position(l,c)}s.init(c);var h=new t;function g(e){h.isActive()&&(e.preventDefault(),e.stopPropagation(),s.drag(h,e,l))}function m(t){h.isActive()&&(h.deactive(t),p(),e.unbind("mousemove",g))}function v(t){h.isActive()&&(h.deactive(t),p(),e.unbind("touchmove",g))}c.bind("mousedown",function(t){h.isActive()||(h.active(t,h.ACTION_TYPES.mouse),u(),e.bind("mousemove",g))}),e.bind("mouseup",m),c.bind("touchstart",function(t){h.isActive()||(h.active(t,h.ACTION_TYPES.touch),u(),e.bind("touchmove",g))}),e.bind("touchend",v),l.addEventListener("scroll",function(){d()}),l.addEventListener("update",function(){f(),d()}),l.addEventListener("destroy",function(){e.unbind("mouseup",m),e.unbind("touchend",v)}),f(),d()}}}]),angular.module("LINDGE.UI-Core.Control.TreeView",[]).factory("luiTreeViewParams",[function(){function e(e){return[]}var t={AUTO:"auto",MANUAL:"manual",OFF:"off"},n={AUTO:1,SYNC:2,ASYNC:3};function i(e,t,n){e.$initialized||(e.$initialized=!0,e.$isOpen=n,e.$level=t,e.$queryId=0)}function r(e,n,o){for(var a=o.setting.clickToExpand==t.OFF,l=0;l<e.length;l++){var s=e[l];i(s,n,a);var c=o.adaptor.getChildren(s);c.length>0&&r(c,n+1,o)}return e}function o(e){this._nodes=e}function a(i,r){if(this.adaptor={getID:null,getName:null,getChildren:e,setChildren:null},this.setting={dataLoadPolicy:n.AUTO,dataProvider:null,clickToExpand:void 0===r.actionType?t.AUTO:r.actionType},angular.extend(this.adaptor,i),angular.extend(this.setting,r),this.setting.dataLoadPolicy!==n.AUTO&&!this.setting.dataProvider)throw new Error("dataProvider must be provided");this.data=[]}return Object.defineProperty(o.prototype,"first",{get:function(){return this._nodes.length>0?this._nodes[0]:null},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"last",{get:function(){return this._nodes.length>0?this._nodes[this._nodes.length-1]:null},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"length",{get:function(){return this._nodes.length},set:function(e){},enumerable:!0,configurable:!0}),o.prototype.toArray=function(){return this._nodes.slice(0)},o.prototype.forEach=function(e){this._nodes.forEach(e)},a.ACTION_TYPES=t,a.DATA_LOAD_POLICY=n,a.prototype.getNodeChildren=function(e){return e?this.adaptor.getChildren(e):[]},a.prototype.getNodeId=function(e){return this.adaptor.getId&&this.adaptor.getId(e)||""},a.prototype.getNodeName=function(e){return this.adaptor.getName&&this.adaptor.getName(e)||""},a.prototype.openNode=function(e){e&&(e instanceof o?(e.forEach(function(e){e.$isOpen=!0}),this.reloadNode(e.last)):(e.$isOpen=!0,this.reloadNode(e)))},a.prototype.closeNode=function(e){e&&(e instanceof o?e.forEach(function(e){e.$isOpen=!1}):e.$isOpen=!1)},a.prototype.toggleNodeOpen=function(e){e&&(e instanceof o?(e.forEach(function(e){e.$isOpen=!e.$isOpen}),e.last.$isOpen&&this.reloadNode(e.last)):e.$isOpen?e.$isOpen=!1:this.openNode(e))},a.prototype.reloadNode=function(e){if(e){var t=this.setting,i=this.adaptor,o=this.setting.dataProvider;switch(t.dataLoadPolicy){case n.SYNC:o(e,t=>{null!==t&&i.setChildren(e,r(t,e.$level+1,this))},angular.noop);break;case n.ASYNC:e.$queyrId++;var a=e.$queryId;o(e,t=>{null!==t&&a==e.$queryId&&i.setChildren(e,r(t,e.$level+1,this))},angular.noop);break;default:return}}},a.prototype.reload=function(e){if(!e)throw new Error("parameter nodes is null");Array.isArray(e)||(e=[e]),this.data=r(e,0,this)},a.createParam=function(e,t){return new a(e,t)},a.prototype.findNode=function(e){for(var t=this.data.slice(0),n=[];t.length>0;){var i=t.shift();if(n.push(i),e(i))return new o(n);var r=this.adaptor.getChildren(i);r.length>0?Array.prototype.unshift.apply(t,r):n.pop()}return null},a}]).controller("$luiTreeViewCtrl",["$scope",function(e){this.getParam=function(){return e.params||null}}]).directive("luiTreeView",["$q","luiTreeViewParams",function(e,t){var n=t.ACTION_TYPES;return{priority:1,scope:!0,restrict:"E",templateUrl:"lui-tpl/TreeView/tree-view.tmpl.html",controller:"$luiTreeViewCtrl",replace:!1,link:function(e,i,r){var o=null;e.params=null,e.itemTpl=e.$eval(r.contentTpl)||"lui-tpl/TreeView/tree-item-default.tmpl.html";var a=function(e){var t=Number(e);return isNaN(t)?15:Math.max(t,0)}(e.$eval(r.indent));e.toggleOpen=function(e){o.setting.clickToExpand===n.AUTO&&o.toggleNodeOpen(e)},e.getPadding=function(e){return e.$level*a+"px"},e.$watch(function(){return e.$parent.$eval(r.treeViewParams)},function(n){n&&n instanceof t&&(o=n,e.params=n)})}}}]).directive("luiTreeItem",["$templateCache","$compile","luiTreeViewParams",function(e,t,n){var i=e.get("lui-tpl/TreeView/tree-item.tmpl.html"),r=angular.element(i),o=new DocumentFragment;return o.append(r[0]),{priority:1,scope:!1,require:"^?luiTreeView",restrict:"EA",replace:!1,link:function(e,n,i){n.addClass("lui-tree-item-wrapper"),n.css({"padding-left":e.getPadding(e.$node)});var r=n[0],a=o.cloneNode(!0);return r.parentNode.insertBefore(a,r.nextSibling),n.bind("click",function(){e.toggleOpen(e.$node),e.$apply()}),t(r.nextSibling)(e),angular.noop}}}]),angular.module("LINDGE.UI-Core.Control.Waiting",[]).service("$luiWaiting",[function(){var e={};this.registerWaitingInstance=function(t,n){e[t]=n},this.unregisterWaitingInstance=function(t){delete e[t]},this.showWaitingByName=function(t,...n){var i=e[t];i&&i.show(...n)},this.hideWaitingByName=function(t){var n=e[t];n&&n.hide()},this.bindWaitingByStates=function(t,n,i,r){var o=t.$watch(n,function(t){t?i.forEach(function(t,n){var i=e[t];if(i){var o=r[n];Array.isArray(o)?i.show(...r[n]):"function"==typeof o?i.show(o()):i.show()}}):i.forEach(function(t){var n=e[t];n&&n.hide()})});t.$on("$destroy",function(){o()})}}]).controller("$luiWaitingComponentCtrl",["$element",function(e){var t=[],n=window.getComputedStyle(e[0]).display;e.css("display","none");var i=!1;this.show=function(...r){if(!i){e.css("display",n);try{t.forEach(function(e){e.onShow(...r)})}finally{i=!0}}},this.hide=function(){if(i){e.css("display","none");try{t.forEach(function(e){e.onHide&&e.onHide()})}finally{i=!1}}},this.addComponent=function(e){if(!e)throw new Error("component is null");t.push(e)}}]).directive("luiWaiting",["$luiWaiting",function(e){var t=0;return{priority:1,scope:{waitingExp:"@",waitingParams:"=",captureEvents:"="},controller:"$luiWaitingComponentCtrl",restrict:"E",replace:!1,link:function(n,i,r,o){i.addClass("lui-waiting");var a=r.name;if(a||(a="waiting_"+String(++t)),e.registerWaitingInstance(a,o),angular.isDefined(r.captureEvents)&&!n.captureEvents||i.bind("click mousedown touch",function(e){e.preventDefault(),e.stopPropagation()}),n.$on("$destroy",function(){e.unregisterWaitingInstance(a)}),n.waitingExp){e.bindWaitingByStates(n.$parent,n.waitingExp,[a],[function(){return Array.isArray(n.waitingParams)?n.waitingParams:[]}])}}}}]),angular.module("LINDGE.UI-Core.Filter.DOMTextFilter",[]).filter("domTextFilter",["$SDK",function(e){return function(t,n,i){var r,o;if(angular.isString(t))try{if(o=null==(o=t)?'<div tempelm=""></div>':'<div tempelm="">'+o+"</div>",0===(r=angular.element(o)).length)return t.substr(0,n||t.length)}catch(e){return t.substr(0,n||t.length)}else{if(!t.hasOwnProperty("length"))return"";r=t}i=!!i;var a=[],l=n||Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,s=0;e.DOM.walkDOM(r,function(e){if(3==e.nodeType){var t=e.nodeValue,n=i?t.trim():t;return a.push(n),(s+=n.length)<=l}return!0});var c=a.join("");return c.length>l?c.substr(0,l-"...".length)+"...":c}}]),angular.module("LINDGE.UI-Core.Filter.Gender",[]).filter("genderFilter",[function(){var e=["male","man","men"],t=["female","woman","women"];return function(n){return"string"==typeof n?""===(n=n.trim().toLowerCase())||"unknown"==n?"未知":e.indexOf(n)>=0?"男":t.indexOf(n)>=0?"女":n:n}}]),angular.module("LINDGE.UI-Core.Filter.Numbers",[]).filter("numberPretty",["$filter",function(e){var t=e("number"),n=/\.0+$/;return function(e,i){return t(e,i).replace(n,"")}}]),angular.module("LINDGE.UI-Core.Filter.PlatformImage",[]).filter("platformImage",["Scenario","systemConfig","path",function(e,t,n){var i=t.imageUrl;return function(t){if(t){var r,o=Array.prototype.slice.call(arguments,1).join("."),a=e.Image[o],l=a?a.id:"";return r=l?[t,"_",l,".","png"]:o?[t,"_",o=o.toUpperCase(),".","png"]:[t,".","png"],n.combine(i,r.join(""))}return""}}]),angular.module("LINDGE.UI-Core.Filter.TimeDisplayFilter",["LINDGE.UI-Core.Service.GlobalClock"]).value("$$timeCounter",function(e){this.ms=e,this.seconds=e/1e3,this.minutes=e/6e4,this.hours=this.minutes/60,this.days=this.hours/24,this.weeks=this.days/7,this.months=this.weeks/4,this.years=this.months/12}).value("$$timeFormatters",[{mark:"s",check:function(e){return e.seconds<60},format:function(e){return parseInt(e.seconds)+"秒"},formatStruct:function(e){return{time:parseInt(e.seconds),unit:"秒"}}},{mark:"m",check:function(e){return e.minutes<60},format:function(e){return parseInt(e.minutes)+"分钟"},formatStruct:function(e){return{time:parseInt(e.minutes),unit:"分钟"}}},{mark:"h",check:function(e){return e.hours<24},format:function(e){return parseInt(e.hours)+"小时"},formatStruct:function(e){return{time:parseInt(e.hours),unit:"小时"}}},{mark:"d",check:function(e){return e.days<7},format:function(e){return parseInt(e.days)+"天"},formatStruct:function(e){return{time:parseInt(e.days),unit:"天"}}},{mark:"W",check:function(e){return e.weeks<4},format:function(e){return parseInt(e.weeks)+"周"},formatStruct:function(e){return{time:parseInt(e.weeks),unit:"周"}}},{mark:"M",check:function(e){return e.months<12},format:function(e){return parseInt(e.months)+"月"},formatStruct:function(e){return{time:parseInt(e.months),unit:"月"}}}]).filter("timeOffsetDisplayFilter",["globalClock","$filter","$$timeCounter","$$timeFormatters",function(e,t,n,i){var r=i;function o(e){return e instanceof Date?e:angular.isNumber(e)?new Date(1e3*e):new Date(e)}return function(i,a,l){var s;if(a)s=o(a);else{if(!e.initiated)return t("date")(i,l);s=e.getCurrentTime()}var c=o(i),u=s.getTime()-c.getTime();if(0===u)return"当前";for(var p=u>0?"前":"后",f=new n(Math.abs(u)),d=0;d<r.length;d++){var h=r[d];if(h.check(f))return h.format(f)+p}return"一年"+p}}]).filter("periodDisplayFilter",["$filter","$$timeCounter","$$timeFormatters",function(e,t,n){var i=n,r=/\(time\)/g,o=/\(unit\)/g;return function(e,n,a){if(0===e)return"不到一秒";for(var l=new t(1e3*e),s=0;s<i.length;s++){var c=i[s];if(c.mark===n||c.check(l)){if(a&&angular.isString(a)){var u=c.formatStruct(l);return a.replace(r,u.time).replace(o,u.unit)}return c.format(l)}}return"超过一年"}}]).filter("periodFormatFilter",[function(){function e(e){return(e=Math.round(e))<10?"0"+e:String(e)}return function(t,n){if(t=Math.round(t),isNaN(t))return n?"00:00":"00:00:00";var i=Math.floor(t/3600),r=t-3600*i,o=Math.floor(r/60),a=r-60*o,l=[e(i),e(o),e(a)];return n&&0===i&&l.shift(),l.join(":")}}]).filter("periodFormatMSFilter",["$filter",function(e){var t=e("periodFormatFilter");return function(e,n){return t(e/=1e3,n)}}]),angular.module("LINDGE.UI-Core.Filter.UnitsConversion",[]).filter("luiByteUnitDisplayFilter",["$SDK",function(e){var t=e.Unit.ByteUnit;return function(e,n,i){if(e=Number(e),isNaN(e))return n?"0"+n.toUpperCase():"0KB";i=Number(i),isNaN(i)&&(i=0);var r=new t(e,"b");return n?(r.convertTo(n),r.toString(i)):r.getValue()<1024?r.toString(0):(r.convertTo("kb"),r.getValue()<1024?r.toString(i):(r.convertTo("mb"),r.getValue()<1024?r.toString(i):(r.convertTo("gb"),r.toString(i))))}}]),angular.module("LINDGE.UI-Core.Service.DOMService",[]).factory("ElementStateMonitor",["$SDK","$log",function(e,t){function n(e){this._element=e,this._callbacks=[],this.enable=!0}function i(e){n.call(this,e),this._visible=this._isVisible(e)}function r(e,t){n.call(this,e),this._size=this._getSize(e),this._lazy=!!t,this._hasChanged=!1}n.prototype.addCallback=function(e){if("function"!=typeof e)throw new TypeError("invalid callback");this._callbacks.push(e)},n.prototype._trigger=function(){var e=arguments;this._callbacks.forEach(function(n){try{n.apply(null,e)}catch(e){t.error("error occurred when trigger state callback",e)}})},n.prototype.trigger=function(){throw new Error("not implemented")},n.prototype.check=function(){throw new Error("not implemented")},e.Lang.inherits(i,n),i.prototype._isVisible=function(e){return!!e.offsetParent},i.prototype.trigger=function(){this._trigger(this._visible)},i.prototype.check=function(){if(this.enable){var e=this._isVisible(this._element);e!=this._visible&&(this._visible=e,this._trigger(e))}},e.Lang.inherits(r,n),r.prototype._getSize=function(e){return{width:e.clientWidth,height:e.clientHeight}},r.prototype.trigger=function(){this._trigger(this._size)},r.prototype.check=function(){if(this.enable){var e=this._getSize(this._element);e.width!=this._size.width||e.height!=this._size.height?(this._size=e,this._lazy?this._hasChanged=!0:this.trigger()):this._lazy&&this._hasChanged&&(this._hasChanged=!1,this.trigger())}};var o=150;function a(){this._stateCheckers=[],this._handle=0,this.isWatching=!1}return a.prototype.addChecker=function(e){if(e instanceof n)return this._stateCheckers.push(e),this;throw new TypeError("invalid checker")},a.prototype.beginWatch=function(){var e=this._stateCheckers;e.forEach(function(e){e.trigger()}),this.isWatching=!0,function t(n){e.forEach(function(e){e.check()}),n._handle=setTimeout(function(){t(n)},o)}(this)},a.prototype.stopWatch=function(){this._handle&&(clearTimeout(this._handle),this._handle=0),this.isWatching=!1},{ElementStateMonitor:a,VisibilityChecker:i,SizeChecker:r}}]),angular.module("LINDGE.UI-Core.Service.Drag",[]).factory("$luiDragAction",[function(){function e(){this.ACTION_TYPES={mouse:"mouse",touch:"touch"},this._active=!1,this._type=this.ACTION_TYPES.mouse,this.lastX=0,this.lastY=0,this.currentX=0,this.currentY=0}return e.prototype.isActive=function(){return this._active},e.prototype.actionType=function(){return this._type},e.prototype._getCoord=function(e){if(this._type==this.ACTION_TYPES.mouse)return{x:e.clientX,y:e.clientY};if(this._type==this.ACTION_TYPES.touch){var t=e.touches[0];return{x:t.clientX,y:t.clientY}}},e.prototype.active=function(e,t){this._type=t,this._active=!0;var n=this._getCoord(e);this.lastX=n.x,this.lastY=n.y,this.currentX=this.lastX,this.currentY=this.lastY},e.prototype.deactive=function(){this._active=!1},e.prototype.offset=function(e){this.lastX=this.currentX,this.lastY=this.currentY;var t=this._getCoord(e);return this.currentX=t.x,this.currentY=t.y,[this.currentX-this.lastX,this.currentY-this.lastY]},e}]),angular.module("LINDGE.UI-Core.Service.DragDrop",[]).factory("$luiDragdrop",["$log",function(e){return{configDropZone:function(t,n){if("string"==typeof t&&(t=document.body.querySelector(t)),t){var i={preventInnerDragDrop:!0,canDrop:function(e){return!0},onDropBegin:function(e){},onDropDiscard:function(e){},onDrop:function(e){},onDropEnd:function(e){}};angular.extend(i,n);var r=!1;i.preventInnerDragDrop&&(t.ondragstart=function(e){return!1}),t.addEventListener("dragenter",function(e){i.canDrop(e)&&(r=!0,i.onDropBegin(e))}),t.addEventListener("dragleave",function(t){if(r){r=!1;try{i.onDropDiscard(t)}catch(t){e.error("error occurred in drop discard callback",t)}try{i.onDropEnd(t)}catch(t){e.error("error occurred in drop end callback",t)}}}),t.ondragover=function(e){e.preventDefault()},t.ondrop=function(t){if(t.preventDefault(),r){r=!1;try{i.onDrop(t)}catch(t){e.error("error occurred in drop callback",t)}try{i.onDropEnd(t)}catch(t){e.error("error occurred in drop end callback",t)}}}}},extractDropFiles:function(e,t){if(e){var n=e.dataTransfer;if(n.files.length>0){if("string"==typeof t){var i=t;t=function(e){return e.type==i}}return t?Array.prototype.filter.call(n.files,t):Array.prototype.slice.call(n.files,0)}return[]}return[]}}}]),angular.module("LINDGE.UI-Core.Service.GlobalClock",["ngResource","Figure-Config-RouteTable"]).service("$serverTimeQuery",["$resource","routeTable","path",function(e,t,n){return e(n.combine(t.figure_config,"ServerTime","time"),null,{getTime:{method:"GET",transformResponse:function(e){if(null===e||"null"===e)return null;var t,n=e.indexOf("{");if(!(n>=0))return null;t=";"==e.charAt(e.length-1)?e.substring(n,e.length-1):e.substr(n);try{return JSON.parse(t)}catch(e){return null}},isArray:!1}})}]).constant("GLOBAL_INIT_TIME_NAME","global_init_time").service("globalClock",["$serverTimeQuery","GLOBAL_INIT_TIME_NAME","$rootScope",function(e,t,n){var i=this,r=!0,o=null;this.initiated=!1;var a=null,l=1,s=null;var c={initiated:[],tick:[]};function u(e){r&&c.hasOwnProperty(e)&&c[e].forEach(function(e){e(new Date(a))})}function p(){if(!o)throw new Error("Global server time is not initiated");s&&(clearInterval(s),s=null,l=0),a=function(){var e;if(!o)throw new Error("Global server time is not initiated");try{return e=new Date(o.TimeStamp)}catch(t){return(e=new Date).setUTCFullYear(o.Year),e.setUTCMonth(o.Month),e.setUTCDate(o.Day),e.setUTCHours(o.Hour,o.Minute,o.Second,o.Millisecond),e}}(),s=setInterval(function(){a.setTime(a.getTime()+500),0===(l^=1)&&u("tick")},500)}function f(){e.getTime(null,function(e){var n,r;e&&(o=e,window[t]=(n=e,r={},Object.keys(n).forEach(function(e){"$"!=e.charAt(0)&&"__"!=e.substr(0,2)&&(r[e]=n[e])}),r),i.initiated||(i.initiated=!0,u("initiated")),p())})}n.$on("$destroy",function(){s&&clearInterval(s)}),this.getCurrentTime=function(){return new Date(a)},this.onTick=function(e,t){angular.isFunction(e)&&(angular.isNumber(t)&&t>0?c.tick.push(function(e,t){var n=0;return function(){(n+=1)===e&&(n=0,t.apply(null,arguments))}}(t,e)):c.tick.push(e))},this.onInitiated=function(e){angular.isFunction(e)&&c.initiated.push(e)},this.syncServerTime=function(){f()},this.start=function(){this.initiated?r=!0:window[t]?(o=angular.copy(window[t]),this.initiated=!0,u("initiated"),p()):f()},this.stop=function(){r=!1}}]).run(["globalClock",function(e){e.start()}]),angular.module("LINDGE.UI-Core.Service.HttpInterceptor",["LINDGE.UI-Core.Service.SystemConfig"]).factory("httpAuthLoginRequiredInterceptor",["$rootScope","$q","$window","$luiHref","systemConfig",function(e,t,n,i,r){return{responseError:function(o){if(o&&o.config&&!o.config.ignoreAuthModule)switch(o.status){case 401:var a=o.headers("RedirectBackAfterAuthorized"),l=!!a&&"TRUE"==a.toUpperCase();angular.element(n).off("beforeunload"),e.$broadcast("event:auth-loginRequired",o),l?i.goto(r.logonUrl,{redirect_back:"TRUE"}):i.goto(r.logonUrl)}return t.reject(o)}}}]).factory("luiHttpDebugIterceptor",["$window",function(e){var t=window.Blob;if(!t)return{};var n=[],i={},r=0;return window.config&&window.config.debugMode&&window.addEventListener("beforeunload",function(){if(n.length>0){var e="[\n"+n.join(",\n")+"\n]",i=new t([e],{type:"text/plain"}),r=window.URL.createObjectURL(i),o=angular.element("<a>").attr("href",r).attr("download",(a=window.location.href,(a=(a=(a=a.replace(/^https?:\/\//,"")).replace(/\//g,"_")).replace(":","_"))+".txt")).css("opacity",0);document.body.appendChild(o[0]),o[0].click(),window.URL.revokeObjectURL(r)}var a}),{request:function(e){return e.$$debugID=function(){for(var e=[],t=0;t<3;t++)e.push(String.fromCharCode(65+Math.floor(26*Math.random())));return r++,e.push(r),e.join("")}(),e.$$debugStartTime=new Date,i[e.$$debugID]=e,e},response:function(e){if(e.config){var t=e.config,r=t.$$debugID;if(r){t.$$debutgEndTime=new Date;var o=function(e,t){function n(e){if(null==e)return null;if(e instanceof window.Blob)return null;if(angular.isObject(e))return e;if(angular.isArray(e))return e;switch(typeof e){case"string":case"number":case"boolean":return e;default:return null}}return{method:e.method,url:e.url,requestHeaders:angular.extend({},e.headers),responseHeaders:t.headers(),requestData:n(e.data),responseData:n(t.data),startTime:e.$$debugStartTime.toJSON(),endTime:e.$$debutgEndTime.toJSON(),timeSpan:e.$$debutgEndTime.getTime()-e.$$debugStartTime.getTime(),status:t.status}}(e.config,e);n.push(angular.toJson(o,!0)),delete i[r]}}return e}}}]).config(["$httpProvider",function(e){e.interceptors.push("httpAuthLoginRequiredInterceptor"),window.config&&window.config.debugMode&&e.interceptors.push("luiHttpDebugIterceptor")}]),angular.module("LINDGE.UI-Core.Initiate",[]).run([function(){window.addEventListener("load",function(){for(var e=window.document.getElementsByClassName("to-remove"),t=0;t<e.length;t++)angular.element(e[t]).remove()})}]),angular.module("LINDGE.UI-Core.Service.NgUtil",[]).service("$ngUtil",["$injector","$SDK",function(e,t){this.tryLoadService=function(t,n){return e.has(t)?n?n(e.get(t)):e.get(t):null},this.hasModule=t.Angular.hasModule}]),angular.module("LINDGE.UI-Core.Constants.Scenario",[]).constant("Scenario",{Image:{"avatar.raw":{id:"AVATAR_RAW",size:[500,500],postfix:"_AVATAR_RAW.png",format:"image/png"},"avatar.small":{id:"AVATAR_SMALL",size:[34,34],postfix:"_AVATAR_SMALL.png",format:"image/png"},"avatar.thumbnail":{id:"AVATAR_THUMBNAIL",size:[67,67],postfix:"_AVATAR_THUMBNAIL.png",format:"image/png"},"avatar.cover":{id:"AVATAR_COVER",size:[110,110],postfix:"_AVATAR_COVER.png",format:"image/png"},"card.preview":{id:"CARD_PREVIEW",size:[160,160],postfix:"_CARD_PREVIEW.png",format:"image/png"},"card.cover":{id:"CARD_COVER",size:[480,480],postfix:"_CARD_COVER.png",format:"image/png"}}}),angular.module("LINDGE.UI-Core.Scroll",[]).provider("$luiAnimationScroll",[function(){var e={easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},linear:function(e){return e}},t=e.easeInOutCubic,n=500;this.setInterpolationFunction=function(n){if("function"==typeof n)t=n;else{if("string"!=typeof n)throw new TypeError("invalid interpolation function");var i=e[n];if(!i)throw new Error("invalid interpolation function: "+n);t=i}},this.setDefaultDuration=function(e){if(e=Number(e),isNaN(e))throw new TypeError("duration must be number");if(!(e>0))throw new Error("invalid duration");n=e},this.$get=[function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame;function i(i,r,o,a,l){a=a||n;var s=!0,c={startTime:Date.now(),start:r,end:o,duration:a,callback:l,cancel:function(){s=!1}};return function n(){if(s){var u=Date.now()-c.startTime;i.scrollTo(0,function(e,n,i,r){return i>r?n:e+(n-e)*t(i/r)}(r,o,u,a)),u>a?"function"==typeof l&&l(i,c):e(n)}}(),c}e||(e=function(e){window.setTimeout(e,15)});var r=[];return{verticalScrollTo:function(e,t){function n(e){for(var t=0;t<r.length;t++)if(r[t][0]===e)return void r.splice(t,1)}var o;o=e===window?e.scrollY:e.scrollTop;for(var a=0;a<r.length;a++){var l=r[a];if(l[0]===e){var s=l[1];return void(s.end!==t&&(s.cancel(),l[1]=i(e,o,t,null,n)))}}r.push([e,i(e,o,t,null,n)])},verticalScrollToElement:function(e,t,n){if(!t)throw new Error("element is null");e||(e=window),n=Number(n),isNaN(n)&&(n=0);var i=e===window,r=i?{top:0}:e.getBoundingClientRect(),o=t.getBoundingClientRect().top-r.top,a=i?e.scrollY:e.scrollTop;this.verticalScrollTo(e,a+o-n)}}}]}]).service("$luiScroll",["$SDK",function(e){function t(e){return e===window?window.pageYOffset||window.scrollY:e.scrollTop}function n(e){return e===window?window.pageXOffset||window.scrollX:e.scrollLeft}var i={X:1,Y:2,XY:3},r=e.DOM.contains,o=e.DOM.getElementXCoord,a=e.DOM.getElementYCoord;function l(e,n){var i,r=o(e);i=r-n,window.scroll(i,t(window))}function s(e,t){var i,r=a(e);i=r-t,window.scroll(n(window),i)}this.getScrollTop=t,this.getScrollLeft=n,this.getScrollHeight=function(e){return e===window?document.documentElement.scrollHeight:e.scrollHeight},this.getScrollWidth=function(e){return e===window?document.documentElement.scrollWidth:e.scrollWidth},this.DIRECTION=i,this.scrollToElement=function(t,n,l,s){if(r(t,n))switch(l||(l=i.Y),s=e.Math.safeToNumber(s),l){case i.X:!function(e,t,n){var i=o(e);!function(e,t){e.scrollLeft=t}(e,o(t)-i-n)}(t,n,s);break;case i.Y:!function(e,t,n){var i=a(e);!function(e,t){e.scrollTop=t}(e,a(t)-i-n)}(t,n,s)}},this.windowScrollToElement=function(t,n,r){switch(n||(n=i.Y),r=e.Math.safeToNumber(r),n){case i.X:l(t,r);break;case i.Y:s(t,r)}}}]),angular.module("LINDGE.UI-Core.Service.SelectionControl",[]).controller("$luiSingleSelectionDirectiveCtrl",["$scope","$element","$attrs",function(e,t,n){var i=null,r=!1,o=null,a=this;this.items=[],e.$watch("ngDisabled",function(e){e?t.attr("disabled",!0):t.removeAttr("disabled"),a.items.forEach(t=>{t.setDisabled(e)})}),this.registerItem=function(t){this.items.push(t),i&&t.sync(i.$viewValue)&&(o=t),t.setDisabled(!!e.ngDisabled)},this.deregisterItem=function(e){var t=this.items.indexOf(e);t>=0&&(this.items.splice(t,1),i&&r&&e===o&&i.$setViewValue(null))},this.onItemSelectChange=function(e,t){e.isDisabled()||i&&(t?this.items.forEach(function(t){t===e?(i.$setViewValue(e.getValue()),e.select(),o=e):t.deselect()}):o===e&&(i.$setViewValue(null),e.deselect(),o=null))},this.bindNgModelCtrl=function(e){(i=e).$render=function(){var e=i.$viewValue;this.items.forEach(function(t){t.sync(e)&&(o=t)})}.bind(this)},this.isDisabled=function(){return!!e.ngDisabled}}]).controller("$luiMultiSelectionDirectiveCtrl",["$scope","$element","$attrs",function(e,t,n){var i=null,r={affectModelWhenCandiateChange:!1},o=[],a=this;function l(){return o.map(function(e){return e.getValue()})}this.items=[],e.$watch("ngDisabled",function(e){e?t.attr("disabled",!0):t.removeAttr("disabled"),a.items.forEach(t=>{t.setDisabled(e)})}),this.registerItem=function(t){this.items.push(t),i&&t.sync(i.$viewValue)&&o.push(t),t.setDisabled(!!e.ngDisabled)},this.deregisterItem=function(e){var t=this.items.indexOf(e);if(t>=0&&this.items.splice(t,1),i&&r.affectModelWhenCandiateChange){var n=o.indexOf(e);n>=0&&(o.splice(n,1),i.$setViewValue(l()))}},this.onItemSelectChange=function(e,t){if(!e.isDisabled()&&i){var n=o.indexOf(e);t?n<0&&(e.select(),o.push(e),i.$setViewValue(l())):n>=0&&(e.deselect(),o.splice(n,1),i.$setViewValue(l()))}},this.bindNgModelCtrl=function(e,t){t&&angular.extend(r,t),(i=e).$render=function(){var e=i.$viewValue;this.items.forEach(function(t){t.sync(e)&&o.push(t)})}.bind(this)}}]),angular.module("LINDGE.UI-Core.Service.SystemConfig",[]).service("systemConfig",["$log","$window",function(e,t){function n(e,t,n){for(var i=0;i<n.length;i++){var r=n[i];e[r]=t[r]}}var i,r,o,a={},l={};return t.config?(r=(l=(i=t.config).components).topbar,n(a,i,["name","logo","slogan","rootUrl","frameworkRoot"]),a.extensions=l.extensions||{},n(a,r,["personUrl","groupUrl","behaviorUrl","projectUrl","imageUrl","messageUrl","logonUrl","loginUrl","identityUrl","logoutUrl","modifyPasswordUrl","gatewayUrl"])):(o="",e.warn(`没有找到页面配置数据[${o}], 请确认是否已引用SystemConfig.js并且此配置文件内容是否正确！`)),a}]),angular.module("LINDGE.UI-Core.Timer",[]).factory("$luiTimer",["$log","$SDK",function(e,t){var n=200;function i(e){this._ticket=0,this._interval=Math.max(n,t.Math.safeToNumber(e)),this.isRunning=!1}return i.prototype.start=function(t){if(!t)throw new Error("handles is null");"function"==typeof t&&(t={tick:t,interval:function(){return i._interval}});var i=this;this.isRunning=!0,function r(){try{if(t.tick()){var o=t.interval();o=o>0?Math.max(n,o):i._interval,i._ticket=setTimeout(r,o)}else i._ticket=0,i.isRunning=!1}catch(t){i._ticket=0,i.isRunning=!1,e.error("error in timer",t)}}()},i.prototype.stop=function(){this._ticket>0&&(clearTimeout(this._ticket),this._ticket=0),this.isRunning=!1},i}]),angular.module("LINDGE.UI-Core.Service.UserInfo",[]).constant("USER_INFO_CONSTANTS",{info:"LINDGE.userInfo",units:"LINDGE.units",updateEvt:"$lui-userinfo-update"}).service("userInfo",["localStorageService","USER_INFO_CONSTANTS","$rootScope",function(e,t,n){var i=t.info,r=t.units,o={},a=null;function l(t){e.set(i,t),s(o)}function s(t){var n=e.get(i);null==n&&(n={}),t.id=n.ID,t.token=n.Token,t.username=n.LogonName,t.displayname=n.DisplayName,t.name=n.DisplayName,t.photo=n.Photo,t.apps=n.Apps,t.localunit=n.LocalUnit,t.save=l,t.clear=u,a=n}function c(t){var n=e.get(r);t.units=n}function u(){e.remove(i),e.remove(r),s(o),c(o)}function p(){return a||(a=e.get(i))}return s(o),c(o),o.saveUserInfo=l,o.clear=u,o.reload=function(){s(o),c(o)},o.setLocalUnit=function(t){var n=p();n.LocalUnit=t,e.set(i,n),o.localunit=t},o.saveUnits=function(t){e.set(r,t||[]),o.units=t},o.updatePhoto=function(r){var a=p();a.Photo=r,o.photo=r,e.set(i,a),n.$broadcast(t.updateEvt)},o.updateDisplayName=function(r){var a=p();a.DisplayName=r,o.displayname=r,e.set(i,a),n.$broadcast(t.updateEvt)},o}]),angular.module("LINDGE-UI-Core").run(["$templateCache",function(e){e.put("lui-tpl/NgTable/filters.select-multiple.tmpl.html",'<select ng-options="data.id as data.title for data in column.data" ng-disabled="$filterRow.disabled" multiple="multiple" ng-multiple="true" ng-model="params.filter()[name]" ng-show="filter==\'select-multiple\'" class="filter filter-select-multiple form-control" name="{{column.filterName}}"></select>'),e.put("lui-tpl/NgTable/filters.select.tmpl.html",'<select ng-options="data.id as data.title for data in column.data" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" ng-show="filter==\'select\'" class="filter filter-select form-control" name="{{column.filterName}}"></select>'),e.put("lui-tpl/NgTable/filters.text.tmpl.html",'<input type="text" name="{{column.filterName}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" ng-if="filter==\'text\'" class="input-filter form-control">'),e.put("lui-tpl/NgTable/header.tmpl.html",'<tr><th ng-repeat="column in $columns" ng-class="{ \'sortable\': parse(column.sortable), \'sort-asc\': params.sorting()[parse(column.sortable)]==\'asc\', \'sort-desc\': params.sorting()[parse(column.sortable)]==\'desc\' }" ng-click="sortBy(column, $event)" ng-show="column.show(this)" ng-init="template=column.headerTemplateURL(this)" class="header {{column.class}}"><div ng-if="!template" ng-show="!template" ng-bind="parse(column.title)"></div><div ng-if="template" ng-show="template" ng-include="template"></div></th></tr><tr ng-show="show_filter" class="ng-table-filters"><th ng-repeat="column in $columns" ng-show="column.show(this)" class="filter"><div ng-repeat="(name, filter) in column.filter"><div ng-if="column.filterTemplateURL" ng-show="column.filterTemplateURL"><div ng-include="column.filterTemplateURL"></div></div><div ng-if="!column.filterTemplateURL" ng-show="!column.filterTemplateURL"><div ng-include="\'lui-tpl/NgTable/filters.\' + filter + \'.tmpl.html\'"></div></div></div></th></tr>'),e.put("lui-tpl/NgTable/pager.tmpl.html",'<div class="ng-cloak ng-table-pager" layout="row" ng-show="pages.length"><div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"><button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"><span ng-bind="count"></span></button></div><ul class="pagination ng-table-pagination" layout="row"><li ng-class="{\'disabled\': !page.active && !page.current}" ng-repeat="page in pages" ng-switch="page.type" flex="none"><a class="lui-button" ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a class="lui-button" ng-switch-when="first" ng-click="params.page(page.number)" href="" ng-class="{\'selected\': page.current}"><span ng-bind="page.number"></span> </a><a class="lui-button" ng-switch-when="page" ng-click="params.page(page.number)" href="" ng-class="{\'selected\': page.current}"><span ng-bind="page.number"></span> </a><a class="lui-button" ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a class="lui-button" ng-switch-when="last" ng-click="params.page(page.number)" href="" ng-class="{\'selected\': page.current}"><span ng-bind="page.number"></span> </a><a class="lui-button" ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a></li></ul></div>'),e.put("lui-tpl/Slider/slider.tmpl.html",'<div class="value-slider"><div class="slider-groove"><div class="slider-reference"></div><div class="slider-bar"></div><div class="slider-cheat-min"></div><div class="slider-cheat-max"></div></div><div ng-transclude></div></div>'),e.put("lui-tpl/ScrollView/scrollbar.tmpl.html",'<div class="scrollbar-container"><div class="scrollbar-track" ng-show="useTrack&&active"></div><div class="scrollbar" ng-show="active"></div></div>'),e.put("lui-tpl/ScrollView/scrollview.tmpl.html",'<div class="lui-scroll-view"><div class="scroll-wrapper"><div class="scroll-content" ng-transclude></div></div><lui-scroll-handle class="scrollbar-vertical" ng-show="showVerticalScrollbar" mode="vertical"></lui-scroll-handle></div>'),e.put("lui-tpl/TreeView/tree-item-default.tmpl.html",'<div lui-tree-item><span ng-bind="params.getNodeName($node)"></span></div>'),e.put("lui-tpl/TreeView/tree-item.tmpl.html",'<ul class="{opened:$node.$isOpen}" ng-show="$node.$isOpen"><li class="lui-tree-item" ng-repeat="$node in params.getNodeChildren($node)" ng-include="itemTpl" node-id="{{params.getNodeId($node)}}"></li></ul>'),e.put("lui-tpl/TreeView/tree-view.tmpl.html",'<div class="lui-tree-view"><ul><li class="lui-tree-item root" ng-repeat="$node in params.data" ng-include="itemTpl" node-id="{{params.getNodeId($node)}}"></li></ul></div>')}])}();